{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aiman/Desktop/Projects/echo/components/TableOfContents.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\n\r\ninterface TocItem {\r\n  id: string;\r\n  text: string;\r\n  level: number;\r\n}\r\n\r\ninterface TableOfContentsProps {\r\n  headings: TocItem[];\r\n}\r\n\r\nexport default function TableOfContents({ headings }: TableOfContentsProps) {\r\n  const [activeId, setActiveId] = useState<string>(\"\");\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach((entry) => {\r\n          if (entry.isIntersecting) {\r\n            setActiveId(entry.target.id);\r\n          }\r\n        });\r\n      },\r\n      {\r\n        rootMargin: \"-80px 0px -80% 0px\",\r\n        threshold: 0,\r\n      }\r\n    );\r\n\r\n    headings.forEach((heading) => {\r\n      const element = document.getElementById(heading.id);\r\n      if (element) {\r\n        observer.observe(element);\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      headings.forEach((heading) => {\r\n        const element = document.getElementById(heading.id);\r\n        if (element) {\r\n          observer.unobserve(element);\r\n        }\r\n      });\r\n    };\r\n  }, [headings]);\r\n\r\n  const handleClick = (e: React.MouseEvent<HTMLAnchorElement>, id: string) => {\r\n    e.preventDefault();\r\n    const element = document.getElementById(id);\r\n    if (element) {\r\n      const offset = 100;\r\n      const elementPosition = element.getBoundingClientRect().top + window.scrollY;\r\n      window.scrollTo({\r\n        top: elementPosition - offset,\r\n        behavior: \"smooth\",\r\n      });\r\n      setActiveId(id);\r\n    }\r\n  };\r\n\r\n  if (headings.length === 0) return null;\r\n\r\n  return (\r\n    <div className=\"fixed top-28 left-8 w-64 max-h-[calc(100vh-140px)] overflow-y-auto\">\r\n      <nav className=\"border-l-2 border-gray-200 pl-4\">\r\n        <h3 className=\"text-base font-semibold text-gray-900 mb-4\">\r\n          Table of Contents\r\n        </h3>\r\n        <ul className=\"space-y-3 text-sm\">\r\n          {headings.map((heading) => (\r\n            <li key={heading.id}>\r\n              <a\r\n                href={`#${heading.id}`}\r\n                onClick={(e) => handleClick(e, heading.id)}\r\n                className={`block leading-snug transition-colors ${\r\n                  heading.level === 3 ? \"pl-4\" : \"\"\r\n                } ${\r\n                  activeId === heading.id\r\n                    ? \"text-gray-900 font-medium\"\r\n                    : \"text-gray-500 hover:text-gray-900\"\r\n                }`}\r\n              >\r\n                {heading.level === 3 ? `- ${heading.text}` : heading.text}\r\n              </a>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAce,SAAS,gBAAgB,EAAE,QAAQ,EAAwB;;IACxE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAS;IAEjD,IAAA,0KAAS;qCAAC;YACR,MAAM,WAAW,IAAI;6CACnB,CAAC;oBACC,QAAQ,OAAO;qDAAC,CAAC;4BACf,IAAI,MAAM,cAAc,EAAE;gCACxB,YAAY,MAAM,MAAM,CAAC,EAAE;4BAC7B;wBACF;;gBACF;4CACA;gBACE,YAAY;gBACZ,WAAW;YACb;YAGF,SAAS,OAAO;6CAAC,CAAC;oBAChB,MAAM,UAAU,SAAS,cAAc,CAAC,QAAQ,EAAE;oBAClD,IAAI,SAAS;wBACX,SAAS,OAAO,CAAC;oBACnB;gBACF;;YAEA;6CAAO;oBACL,SAAS,OAAO;qDAAC,CAAC;4BAChB,MAAM,UAAU,SAAS,cAAc,CAAC,QAAQ,EAAE;4BAClD,IAAI,SAAS;gCACX,SAAS,SAAS,CAAC;4BACrB;wBACF;;gBACF;;QACF;oCAAG;QAAC;KAAS;IAEb,MAAM,cAAc,CAAC,GAAwC;QAC3D,EAAE,cAAc;QAChB,MAAM,UAAU,SAAS,cAAc,CAAC;QACxC,IAAI,SAAS;YACX,MAAM,SAAS;YACf,MAAM,kBAAkB,QAAQ,qBAAqB,GAAG,GAAG,GAAG,OAAO,OAAO;YAC5E,OAAO,QAAQ,CAAC;gBACd,KAAK,kBAAkB;gBACvB,UAAU;YACZ;YACA,YAAY;QACd;IACF;IAEA,IAAI,SAAS,MAAM,KAAK,GAAG,OAAO;IAElC,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAA6C;;;;;;8BAG3D,6LAAC;oBAAG,WAAU;8BACX,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC;sCACC,cAAA,6LAAC;gCACC,MAAM,CAAC,CAAC,EAAE,QAAQ,EAAE,EAAE;gCACtB,SAAS,CAAC,IAAM,YAAY,GAAG,QAAQ,EAAE;gCACzC,WAAW,CAAC,qCAAqC,EAC/C,QAAQ,KAAK,KAAK,IAAI,SAAS,GAChC,CAAC,EACA,aAAa,QAAQ,EAAE,GACnB,8BACA,qCACJ;0CAED,QAAQ,KAAK,KAAK,IAAI,CAAC,EAAE,EAAE,QAAQ,IAAI,EAAE,GAAG,QAAQ,IAAI;;;;;;2BAZpD,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;AAoB/B;GA/EwB;KAAA"}}]
}