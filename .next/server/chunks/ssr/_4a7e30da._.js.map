{"version":3,"sources":["../../../../node_modules/next/src/client/components/readonly-url-search-params.ts","../../../../node_modules/next/src/client/components/redirect-status-code.ts","../../../../node_modules/next/src/client/components/redirect-error.ts","../../../../node_modules/next/src/client/components/redirect.ts","../../../../node_modules/next/src/client/components/http-access-fallback/http-access-fallback.ts","../../../../node_modules/next/src/client/components/not-found.ts","../../../../node_modules/next/src/client/components/forbidden.ts","../../../../node_modules/next/src/client/components/unauthorized.ts","../../../../node_modules/next/src/server/dynamic-rendering-utils.ts","../../../../node_modules/next/src/server/lib/router-utils/is-postpone.ts","../../../../node_modules/next/src/shared/lib/lazy-dynamic/bailout-to-csr.ts","../../../../node_modules/next/src/client/components/is-next-router-error.ts","../../../../node_modules/next/src/client/components/hooks-server-context.ts","../../../../node_modules/next/src/client/components/static-generation-bailout.ts","../../../../node_modules/next/src/lib/framework/boundary-constants.tsx","../../../../node_modules/next/src/lib/scheduler.ts","../../../../node_modules/next/src/shared/lib/promise-with-resolvers.ts","../../../../node_modules/next/src/server/app-render/staged-rendering.ts","../../../../node_modules/next/src/server/app-render/dynamic-rendering.ts","../../../../node_modules/next/src/client/components/unstable-rethrow.server.ts","../../../../node_modules/next/src/client/components/unstable-rethrow.ts","../../../../node_modules/next/src/client/components/navigation.react-server.ts","../../../../components/TableOfContents.tsx/__nextjs-internal-proxy.mjs","../../../../components/ShareButtons.tsx/__nextjs-internal-proxy.mjs","../../../../components/BlogHeader.tsx/__nextjs-internal-proxy.mjs","../../../../components/BlogCTA.tsx/__nextjs-internal-proxy.mjs","../../../../components/StickyContainer.tsx/__nextjs-internal-proxy.mjs","../../../../node_modules/next/dist/api/navigation.react-server.js","../../../../node_modules/%40portabletext/toolkit/src/asserters.ts","../../../../node_modules/src/api/navigation.react-server.ts","../../../../app/blogs/%5Bslug%5D/page.tsx","../../../../node_modules/%40portabletext/react/src/components/list.tsx","../../../../node_modules/%40portabletext/react/src/components/marks.tsx","../../../../node_modules/%40portabletext/toolkit/src/sortMarksByOccurences.ts","../../../../node_modules/%40portabletext/react/src/warnings.ts","../../../../node_modules/%40portabletext/react/src/components/unknown.tsx","../../../../node_modules/%40portabletext/react/src/components/defaults.tsx","../../../../node_modules/%40portabletext/toolkit/src/buildMarksTree.ts","../../../../node_modules/%40portabletext/react/src/components/merge.ts","../../../../node_modules/%40portabletext/react/src/react-portable-text.tsx","../../../../node_modules/%40portabletext/toolkit/src/nestLists.ts","../../../../node_modules/%40portabletext/toolkit/src/spanToPlainText.ts","../../../../node_modules/%40portabletext/toolkit/src/toPlainText.ts","../../../../node_modules/%40portabletext/toolkit/src/types.ts"],"sourcesContent":["/**\n * ReadonlyURLSearchParams implementation shared between client and server.\n * This file is intentionally not marked as 'use client' or 'use server'\n * so it can be imported by both environments.\n */\n\n/** @internal */\nclass ReadonlyURLSearchParamsError extends Error {\n  constructor() {\n    super(\n      'Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams'\n    )\n  }\n}\n\n/**\n * A read-only version of URLSearchParams that throws errors when mutation methods are called.\n * This ensures that the URLSearchParams returned by useSearchParams() cannot be mutated.\n */\nexport class ReadonlyURLSearchParams extends URLSearchParams {\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  append() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  delete() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  set() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  sort() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n}\n","export enum RedirectStatusCode {\n  SeeOther = 303,\n  TemporaryRedirect = 307,\n  PermanentRedirect = 308,\n}\n","import { RedirectStatusCode } from './redirect-status-code'\n\nexport const REDIRECT_ERROR_CODE = 'NEXT_REDIRECT'\n\nexport enum RedirectType {\n  push = 'push',\n  replace = 'replace',\n}\n\nexport type RedirectError = Error & {\n  digest: `${typeof REDIRECT_ERROR_CODE};${RedirectType};${string};${RedirectStatusCode};`\n}\n\n/**\n * Checks an error to determine if it's an error generated by the\n * `redirect(url)` helper.\n *\n * @param error the error that may reference a redirect error\n * @returns true if the error is a redirect error\n */\nexport function isRedirectError(error: unknown): error is RedirectError {\n  if (\n    typeof error !== 'object' ||\n    error === null ||\n    !('digest' in error) ||\n    typeof error.digest !== 'string'\n  ) {\n    return false\n  }\n\n  const digest = error.digest.split(';')\n  const [errorCode, type] = digest\n  const destination = digest.slice(2, -2).join(';')\n  const status = digest.at(-2)\n\n  const statusCode = Number(status)\n\n  return (\n    errorCode === REDIRECT_ERROR_CODE &&\n    (type === 'replace' || type === 'push') &&\n    typeof destination === 'string' &&\n    !isNaN(statusCode) &&\n    statusCode in RedirectStatusCode\n  )\n}\n","import { RedirectStatusCode } from './redirect-status-code'\nimport {\n  RedirectType,\n  type RedirectError,\n  isRedirectError,\n  REDIRECT_ERROR_CODE,\n} from './redirect-error'\n\nconst actionAsyncStorage =\n  typeof window === 'undefined'\n    ? (\n        require('../../server/app-render/action-async-storage.external') as typeof import('../../server/app-render/action-async-storage.external')\n      ).actionAsyncStorage\n    : undefined\n\nexport function getRedirectError(\n  url: string,\n  type: RedirectType,\n  statusCode: RedirectStatusCode = RedirectStatusCode.TemporaryRedirect\n): RedirectError {\n  const error = new Error(REDIRECT_ERROR_CODE) as RedirectError\n  error.digest = `${REDIRECT_ERROR_CODE};${type};${url};${statusCode};`\n  return error\n}\n\n/**\n * This function allows you to redirect the user to another URL. It can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a meta tag to redirect the user to the target page.\n * - In a Route Handler or Server Action, it will serve a 307/303 to the caller.\n * - In a Server Action, type defaults to 'push' and 'replace' elsewhere.\n *\n * Read more: [Next.js Docs: `redirect`](https://nextjs.org/docs/app/api-reference/functions/redirect)\n */\nexport function redirect(\n  /** The URL to redirect to */\n  url: string,\n  type?: RedirectType\n): never {\n  type ??= actionAsyncStorage?.getStore()?.isAction\n    ? RedirectType.push\n    : RedirectType.replace\n\n  throw getRedirectError(url, type, RedirectStatusCode.TemporaryRedirect)\n}\n\n/**\n * This function allows you to redirect the user to another URL. It can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a meta tag to redirect the user to the target page.\n * - In a Route Handler or Server Action, it will serve a 308/303 to the caller.\n *\n * Read more: [Next.js Docs: `redirect`](https://nextjs.org/docs/app/api-reference/functions/redirect)\n */\nexport function permanentRedirect(\n  /** The URL to redirect to */\n  url: string,\n  type: RedirectType = RedirectType.replace\n): never {\n  throw getRedirectError(url, type, RedirectStatusCode.PermanentRedirect)\n}\n\n/**\n * Returns the encoded URL from the error if it's a RedirectError, null\n * otherwise. Note that this does not validate the URL returned.\n *\n * @param error the error that may be a redirect error\n * @return the url if the error was a redirect error\n */\nexport function getURLFromRedirectError(error: RedirectError): string\nexport function getURLFromRedirectError(error: unknown): string | null {\n  if (!isRedirectError(error)) return null\n\n  // Slices off the beginning of the digest that contains the code and the\n  // separating ';'.\n  return error.digest.split(';').slice(2, -2).join(';')\n}\n\nexport function getRedirectTypeFromError(error: RedirectError): RedirectType {\n  if (!isRedirectError(error)) {\n    throw new Error('Not a redirect error')\n  }\n\n  return error.digest.split(';', 2)[1] as RedirectType\n}\n\nexport function getRedirectStatusCodeFromError(error: RedirectError): number {\n  if (!isRedirectError(error)) {\n    throw new Error('Not a redirect error')\n  }\n\n  return Number(error.digest.split(';').at(-2))\n}\n","export const HTTPAccessErrorStatus = {\n  NOT_FOUND: 404,\n  FORBIDDEN: 403,\n  UNAUTHORIZED: 401,\n}\n\nconst ALLOWED_CODES = new Set(Object.values(HTTPAccessErrorStatus))\n\nexport const HTTP_ERROR_FALLBACK_ERROR_CODE = 'NEXT_HTTP_ERROR_FALLBACK'\n\nexport type HTTPAccessFallbackError = Error & {\n  digest: `${typeof HTTP_ERROR_FALLBACK_ERROR_CODE};${string}`\n}\n\n/**\n * Checks an error to determine if it's an error generated by\n * the HTTP navigation APIs `notFound()`, `forbidden()` or `unauthorized()`.\n *\n * @param error the error that may reference a HTTP access error\n * @returns true if the error is a HTTP access error\n */\nexport function isHTTPAccessFallbackError(\n  error: unknown\n): error is HTTPAccessFallbackError {\n  if (\n    typeof error !== 'object' ||\n    error === null ||\n    !('digest' in error) ||\n    typeof error.digest !== 'string'\n  ) {\n    return false\n  }\n  const [prefix, httpStatus] = error.digest.split(';')\n\n  return (\n    prefix === HTTP_ERROR_FALLBACK_ERROR_CODE &&\n    ALLOWED_CODES.has(Number(httpStatus))\n  )\n}\n\nexport function getAccessFallbackHTTPStatus(\n  error: HTTPAccessFallbackError\n): number {\n  const httpStatus = error.digest.split(';')[1]\n  return Number(httpStatus)\n}\n\nexport function getAccessFallbackErrorTypeByStatus(\n  status: number\n): 'not-found' | 'forbidden' | 'unauthorized' | undefined {\n  switch (status) {\n    case 401:\n      return 'unauthorized'\n    case 403:\n      return 'forbidden'\n    case 404:\n      return 'not-found'\n    default:\n      return\n  }\n}\n","import {\n  HTTP_ERROR_FALLBACK_ERROR_CODE,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\n\n/**\n * This function allows you to render the [not-found.js file](https://nextjs.org/docs/app/api-reference/file-conventions/not-found)\n * within a route segment as well as inject a tag.\n *\n * `notFound()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a `<meta name=\"robots\" content=\"noindex\" />` meta tag and set the status code to 404.\n * - In a Route Handler or Server Action, it will serve a 404 to the caller.\n *\n * Read more: [Next.js Docs: `notFound`](https://nextjs.org/docs/app/api-reference/functions/not-found)\n */\n\nconst DIGEST = `${HTTP_ERROR_FALLBACK_ERROR_CODE};404`\n\nexport function notFound(): never {\n  const error = new Error(DIGEST) as HTTPAccessFallbackError\n  ;(error as HTTPAccessFallbackError).digest = DIGEST\n\n  throw error\n}\n","import {\n  HTTP_ERROR_FALLBACK_ERROR_CODE,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\n\n// TODO: Add `forbidden` docs\n/**\n * @experimental\n * This function allows you to render the [forbidden.js file](https://nextjs.org/docs/app/api-reference/file-conventions/forbidden)\n * within a route segment as well as inject a tag.\n *\n * `forbidden()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * Read more: [Next.js Docs: `forbidden`](https://nextjs.org/docs/app/api-reference/functions/forbidden)\n */\n\nconst DIGEST = `${HTTP_ERROR_FALLBACK_ERROR_CODE};403`\n\nexport function forbidden(): never {\n  if (!process.env.__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS) {\n    throw new Error(\n      `\\`forbidden()\\` is experimental and only allowed to be enabled when \\`experimental.authInterrupts\\` is enabled.`\n    )\n  }\n\n  const error = new Error(DIGEST) as HTTPAccessFallbackError\n  ;(error as HTTPAccessFallbackError).digest = DIGEST\n  throw error\n}\n","import {\n  HTTP_ERROR_FALLBACK_ERROR_CODE,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\n\n// TODO: Add `unauthorized` docs\n/**\n * @experimental\n * This function allows you to render the [unauthorized.js file](https://nextjs.org/docs/app/api-reference/file-conventions/unauthorized)\n * within a route segment as well as inject a tag.\n *\n * `unauthorized()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n *\n * Read more: [Next.js Docs: `unauthorized`](https://nextjs.org/docs/app/api-reference/functions/unauthorized)\n */\n\nconst DIGEST = `${HTTP_ERROR_FALLBACK_ERROR_CODE};401`\n\nexport function unauthorized(): never {\n  if (!process.env.__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS) {\n    throw new Error(\n      `\\`unauthorized()\\` is experimental and only allowed to be used when \\`experimental.authInterrupts\\` is enabled.`\n    )\n  }\n\n  const error = new Error(DIGEST) as HTTPAccessFallbackError\n  ;(error as HTTPAccessFallbackError).digest = DIGEST\n  throw error\n}\n","import type { NonStaticRenderStage } from './app-render/staged-rendering'\nimport type { RequestStore } from './app-render/work-unit-async-storage.external'\n\nexport function isHangingPromiseRejectionError(\n  err: unknown\n): err is HangingPromiseRejectionError {\n  if (typeof err !== 'object' || err === null || !('digest' in err)) {\n    return false\n  }\n\n  return err.digest === HANGING_PROMISE_REJECTION\n}\n\nconst HANGING_PROMISE_REJECTION = 'HANGING_PROMISE_REJECTION'\n\nclass HangingPromiseRejectionError extends Error {\n  public readonly digest = HANGING_PROMISE_REJECTION\n\n  constructor(\n    public readonly route: string,\n    public readonly expression: string\n  ) {\n    super(\n      `During prerendering, ${expression} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${expression} to a different context by using \\`setTimeout\\`, \\`after\\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route \"${route}\".`\n    )\n  }\n}\n\ntype AbortListeners = Array<(err: unknown) => void>\nconst abortListenersBySignal = new WeakMap<AbortSignal, AbortListeners>()\n\n/**\n * This function constructs a promise that will never resolve. This is primarily\n * useful for cacheComponents where we use promise resolution timing to determine which\n * parts of a render can be included in a prerender.\n *\n * @internal\n */\nexport function makeHangingPromise<T>(\n  signal: AbortSignal,\n  route: string,\n  expression: string\n): Promise<T> {\n  if (signal.aborted) {\n    return Promise.reject(new HangingPromiseRejectionError(route, expression))\n  } else {\n    const hangingPromise = new Promise<T>((_, reject) => {\n      const boundRejection = reject.bind(\n        null,\n        new HangingPromiseRejectionError(route, expression)\n      )\n      let currentListeners = abortListenersBySignal.get(signal)\n      if (currentListeners) {\n        currentListeners.push(boundRejection)\n      } else {\n        const listeners = [boundRejection]\n        abortListenersBySignal.set(signal, listeners)\n        signal.addEventListener(\n          'abort',\n          () => {\n            for (let i = 0; i < listeners.length; i++) {\n              listeners[i]()\n            }\n          },\n          { once: true }\n        )\n      }\n    })\n    // We are fine if no one actually awaits this promise. We shouldn't consider this an unhandled rejection so\n    // we attach a noop catch handler here to suppress this warning. If you actually await somewhere or construct\n    // your own promise out of it you'll need to ensure you handle the error when it rejects.\n    hangingPromise.catch(ignoreReject)\n    return hangingPromise\n  }\n}\n\nfunction ignoreReject() {}\n\nexport function makeDevtoolsIOAwarePromise<T>(\n  underlying: T,\n  requestStore: RequestStore,\n  stage: NonStaticRenderStage\n): Promise<T> {\n  if (requestStore.stagedRendering) {\n    // We resolve each stage in a timeout, so React DevTools will pick this up as IO.\n    return requestStore.stagedRendering.delayUntilStage(\n      stage,\n      undefined,\n      underlying\n    )\n  }\n  // in React DevTools if we resolve in a setTimeout we will observe\n  // the promise resolution as something that can suspend a boundary or root.\n  return new Promise<T>((resolve) => {\n    // Must use setTimeout to be considered IO React DevTools. setImmediate will not work.\n    setTimeout(() => {\n      resolve(underlying)\n    }, 0)\n  })\n}\n","const REACT_POSTPONE_TYPE: symbol = Symbol.for('react.postpone')\n\nexport function isPostpone(error: any): boolean {\n  return (\n    typeof error === 'object' &&\n    error !== null &&\n    error.$$typeof === REACT_POSTPONE_TYPE\n  )\n}\n","// This has to be a shared module which is shared between client component error boundary and dynamic component\nconst BAILOUT_TO_CSR = 'BAILOUT_TO_CLIENT_SIDE_RENDERING'\n\n/** An error that should be thrown when we want to bail out to client-side rendering. */\nexport class BailoutToCSRError extends Error {\n  public readonly digest = BAILOUT_TO_CSR\n\n  constructor(public readonly reason: string) {\n    super(`Bail out to client-side rendering: ${reason}`)\n  }\n}\n\n/** Checks if a passed argument is an error that is thrown if we want to bail out to client-side rendering. */\nexport function isBailoutToCSRError(err: unknown): err is BailoutToCSRError {\n  if (typeof err !== 'object' || err === null || !('digest' in err)) {\n    return false\n  }\n\n  return err.digest === BAILOUT_TO_CSR\n}\n","import {\n  isHTTPAccessFallbackError,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\nimport { isRedirectError, type RedirectError } from './redirect-error'\n\n/**\n * Returns true if the error is a navigation signal error. These errors are\n * thrown by user code to perform navigation operations and interrupt the React\n * render.\n */\nexport function isNextRouterError(\n  error: unknown\n): error is RedirectError | HTTPAccessFallbackError {\n  return isRedirectError(error) || isHTTPAccessFallbackError(error)\n}\n","const DYNAMIC_ERROR_CODE = 'DYNAMIC_SERVER_USAGE'\n\nexport class DynamicServerError extends Error {\n  digest: typeof DYNAMIC_ERROR_CODE = DYNAMIC_ERROR_CODE\n\n  constructor(public readonly description: string) {\n    super(`Dynamic server usage: ${description}`)\n  }\n}\n\nexport function isDynamicServerError(err: unknown): err is DynamicServerError {\n  if (\n    typeof err !== 'object' ||\n    err === null ||\n    !('digest' in err) ||\n    typeof err.digest !== 'string'\n  ) {\n    return false\n  }\n\n  return err.digest === DYNAMIC_ERROR_CODE\n}\n","const NEXT_STATIC_GEN_BAILOUT = 'NEXT_STATIC_GEN_BAILOUT'\n\nexport class StaticGenBailoutError extends Error {\n  public readonly code = NEXT_STATIC_GEN_BAILOUT\n}\n\nexport function isStaticGenBailoutError(\n  error: unknown\n): error is StaticGenBailoutError {\n  if (typeof error !== 'object' || error === null || !('code' in error)) {\n    return false\n  }\n\n  return error.code === NEXT_STATIC_GEN_BAILOUT\n}\n","export const METADATA_BOUNDARY_NAME = '__next_metadata_boundary__'\nexport const VIEWPORT_BOUNDARY_NAME = '__next_viewport_boundary__'\nexport const OUTLET_BOUNDARY_NAME = '__next_outlet_boundary__'\nexport const ROOT_LAYOUT_BOUNDARY_NAME = '__next_root_layout_boundary__'\n","export type ScheduledFn<T = void> = () => T | PromiseLike<T>\nexport type SchedulerFn<T = void> = (cb: ScheduledFn<T>) => void\n\n/**\n * Schedules a function to be called on the next tick after the other promises\n * have been resolved.\n *\n * @param cb the function to schedule\n */\nexport const scheduleOnNextTick = (cb: ScheduledFn<void>) => {\n  // We use Promise.resolve().then() here so that the operation is scheduled at\n  // the end of the promise job queue, we then add it to the next process tick\n  // to ensure it's evaluated afterwards.\n  //\n  // This was inspired by the implementation of the DataLoader interface: https://github.com/graphql/dataloader/blob/d336bd15282664e0be4b4a657cb796f09bafbc6b/src/index.js#L213-L255\n  //\n  Promise.resolve().then(() => {\n    if (process.env.NEXT_RUNTIME === 'edge') {\n      setTimeout(cb, 0)\n    } else {\n      process.nextTick(cb)\n    }\n  })\n}\n\n/**\n * Schedules a function to be called using `setImmediate` or `setTimeout` if\n * `setImmediate` is not available (like in the Edge runtime).\n *\n * @param cb the function to schedule\n */\nexport const scheduleImmediate = (cb: ScheduledFn<void>): void => {\n  if (process.env.NEXT_RUNTIME === 'edge') {\n    setTimeout(cb, 0)\n  } else {\n    setImmediate(cb)\n  }\n}\n\n/**\n * returns a promise than resolves in a future task. There is no guarantee that the task it resolves in\n * will be the next task but if you await it you can at least be sure that the current task is over and\n * most usefully that the entire microtask queue of the current task has been emptied.\n */\nexport function atLeastOneTask() {\n  return new Promise<void>((resolve) => scheduleImmediate(resolve))\n}\n\n/**\n * This utility function is extracted to make it easier to find places where we are doing\n * specific timing tricks to try to schedule work after React has rendered. This is especially\n * important at the moment because Next.js uses the edge builds of React which use setTimeout to\n * schedule work when you might expect that something like setImmediate would do the trick.\n *\n * Long term we should switch to the node versions of React rendering when possible and then\n * update this to use setImmediate rather than setTimeout\n */\nexport function waitAtLeastOneReactRenderTask(): Promise<void> {\n  if (process.env.NEXT_RUNTIME === 'edge') {\n    return new Promise((r) => setTimeout(r, 0))\n  } else {\n    return new Promise((r) => setImmediate(r))\n  }\n}\n","export function createPromiseWithResolvers<T>(): PromiseWithResolvers<T> {\n  // Shim of Stage 4 Promise.withResolvers proposal\n  let resolve: (value: T | PromiseLike<T>) => void\n  let reject: (reason: any) => void\n  const promise = new Promise<T>((res, rej) => {\n    resolve = res\n    reject = rej\n  })\n  return { resolve: resolve!, reject: reject!, promise }\n}\n","import { InvariantError } from '../../shared/lib/invariant-error'\nimport { createPromiseWithResolvers } from '../../shared/lib/promise-with-resolvers'\n\nexport enum RenderStage {\n  Static = 1,\n  Runtime = 2,\n  Dynamic = 3,\n}\n\nexport type NonStaticRenderStage = RenderStage.Runtime | RenderStage.Dynamic\n\nexport class StagedRenderingController {\n  currentStage: RenderStage = RenderStage.Static\n\n  private runtimeStagePromise = createPromiseWithResolvers<void>()\n  private dynamicStagePromise = createPromiseWithResolvers<void>()\n\n  constructor(private abortSignal: AbortSignal | null = null) {\n    if (abortSignal) {\n      abortSignal.addEventListener(\n        'abort',\n        () => {\n          const { reason } = abortSignal\n          if (this.currentStage < RenderStage.Runtime) {\n            this.runtimeStagePromise.promise.catch(ignoreReject) // avoid unhandled rejections\n            this.runtimeStagePromise.reject(reason)\n          }\n          if (this.currentStage < RenderStage.Dynamic) {\n            this.dynamicStagePromise.promise.catch(ignoreReject) // avoid unhandled rejections\n            this.dynamicStagePromise.reject(reason)\n          }\n        },\n        { once: true }\n      )\n    }\n  }\n\n  advanceStage(stage: NonStaticRenderStage) {\n    // If we're already at the target stage or beyond, do nothing.\n    // (this can happen e.g. if sync IO advanced us to the dynamic stage)\n    if (this.currentStage >= stage) {\n      return\n    }\n    this.currentStage = stage\n    // Note that we might be going directly from Static to Dynamic,\n    // so we need to resolve the runtime stage as well.\n    if (stage >= RenderStage.Runtime) {\n      this.runtimeStagePromise.resolve()\n    }\n    if (stage >= RenderStage.Dynamic) {\n      this.dynamicStagePromise.resolve()\n    }\n  }\n\n  private getStagePromise(stage: NonStaticRenderStage): Promise<void> {\n    switch (stage) {\n      case RenderStage.Runtime: {\n        return this.runtimeStagePromise.promise\n      }\n      case RenderStage.Dynamic: {\n        return this.dynamicStagePromise.promise\n      }\n      default: {\n        stage satisfies never\n        throw new InvariantError(`Invalid render stage: ${stage}`)\n      }\n    }\n  }\n\n  waitForStage(stage: NonStaticRenderStage) {\n    return this.getStagePromise(stage)\n  }\n\n  delayUntilStage<T>(\n    stage: NonStaticRenderStage,\n    displayName: string | undefined,\n    resolvedValue: T\n  ) {\n    const ioTriggerPromise = this.getStagePromise(stage)\n\n    const promise = makeDevtoolsIOPromiseFromIOTrigger(\n      ioTriggerPromise,\n      displayName,\n      resolvedValue\n    )\n\n    // Analogously to `makeHangingPromise`, we might reject this promise if the signal is invoked.\n    // (e.g. in the case where we don't want want the render to proceed to the dynamic stage and abort it).\n    // We shouldn't consider this an unhandled rejection, so we attach a noop catch handler here to suppress this warning.\n    if (this.abortSignal) {\n      promise.catch(ignoreReject)\n    }\n    return promise\n  }\n}\n\nfunction ignoreReject() {}\n\n// TODO(restart-on-cache-miss): the layering of `delayUntilStage`,\n// `makeDevtoolsIOPromiseFromIOTrigger` and and `makeDevtoolsIOAwarePromise`\n// is confusing, we should clean it up.\nfunction makeDevtoolsIOPromiseFromIOTrigger<T>(\n  ioTrigger: Promise<any>,\n  displayName: string | undefined,\n  resolvedValue: T\n): Promise<T> {\n  // If we create a `new Promise` and give it a displayName\n  // (with no userspace code above us in the stack)\n  // React Devtools will use it as the IO cause when determining \"suspended by\".\n  // In particular, it should shadow any inner IO that resolved/rejected the promise\n  // (in case of staged rendering, this will be the `setTimeout` that triggers the relevant stage)\n  const promise = new Promise<T>((resolve, reject) => {\n    ioTrigger.then(resolve.bind(null, resolvedValue), reject)\n  })\n  if (displayName !== undefined) {\n    // @ts-expect-error\n    promise.displayName = displayName\n  }\n  return promise\n}\n","/**\n * The functions provided by this module are used to communicate certain properties\n * about the currently running code so that Next.js can make decisions on how to handle\n * the current execution in different rendering modes such as pre-rendering, resuming, and SSR.\n *\n * Today Next.js treats all code as potentially static. Certain APIs may only make sense when dynamically rendering.\n * Traditionally this meant deopting the entire render to dynamic however with PPR we can now deopt parts\n * of a React tree as dynamic while still keeping other parts static. There are really two different kinds of\n * Dynamic indications.\n *\n * The first is simply an intention to be dynamic. unstable_noStore is an example of this where\n * the currently executing code simply declares that the current scope is dynamic but if you use it\n * inside unstable_cache it can still be cached. This type of indication can be removed if we ever\n * make the default dynamic to begin with because the only way you would ever be static is inside\n * a cache scope which this indication does not affect.\n *\n * The second is an indication that a dynamic data source was read. This is a stronger form of dynamic\n * because it means that it is inappropriate to cache this at all. using a dynamic data source inside\n * unstable_cache should error. If you want to use some dynamic data inside unstable_cache you should\n * read that data outside the cache and pass it in as an argument to the cached function.\n */\n\nimport type { WorkStore } from '../app-render/work-async-storage.external'\nimport type {\n  WorkUnitStore,\n  RequestStore,\n  PrerenderStoreLegacy,\n  PrerenderStoreModern,\n  PrerenderStoreModernRuntime,\n} from '../app-render/work-unit-async-storage.external'\n\n// Once postpone is in stable we should switch to importing the postpone export directly\nimport React from 'react'\n\nimport { DynamicServerError } from '../../client/components/hooks-server-context'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport {\n  getRuntimeStagePromise,\n  throwForMissingRequestStore,\n  workUnitAsyncStorage,\n} from './work-unit-async-storage.external'\nimport { workAsyncStorage } from '../app-render/work-async-storage.external'\nimport { makeHangingPromise } from '../dynamic-rendering-utils'\nimport {\n  METADATA_BOUNDARY_NAME,\n  VIEWPORT_BOUNDARY_NAME,\n  OUTLET_BOUNDARY_NAME,\n  ROOT_LAYOUT_BOUNDARY_NAME,\n} from '../../lib/framework/boundary-constants'\nimport { scheduleOnNextTick } from '../../lib/scheduler'\nimport { BailoutToCSRError } from '../../shared/lib/lazy-dynamic/bailout-to-csr'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { RenderStage } from './staged-rendering'\n\nconst hasPostpone = typeof React.unstable_postpone === 'function'\n\nexport type DynamicAccess = {\n  /**\n   * If debugging, this will contain the stack trace of where the dynamic access\n   * occurred. This is used to provide more information to the user about why\n   * their page is being rendered dynamically.\n   */\n  stack?: string\n\n  /**\n   * The expression that was accessed dynamically.\n   */\n  expression: string\n}\n\n// Stores dynamic reasons used during an RSC render.\nexport type DynamicTrackingState = {\n  /**\n   * When true, stack information will also be tracked during dynamic access.\n   */\n  readonly isDebugDynamicAccesses: boolean | undefined\n\n  /**\n   * The dynamic accesses that occurred during the render.\n   */\n  readonly dynamicAccesses: Array<DynamicAccess>\n\n  syncDynamicErrorWithStack: null | Error\n}\n\n// Stores dynamic reasons used during an SSR render.\nexport type DynamicValidationState = {\n  hasSuspenseAboveBody: boolean\n  hasDynamicMetadata: boolean\n  hasDynamicViewport: boolean\n  hasAllowedDynamic: boolean\n  dynamicErrors: Array<Error>\n}\n\nexport function createDynamicTrackingState(\n  isDebugDynamicAccesses: boolean | undefined\n): DynamicTrackingState {\n  return {\n    isDebugDynamicAccesses,\n    dynamicAccesses: [],\n    syncDynamicErrorWithStack: null,\n  }\n}\n\nexport function createDynamicValidationState(): DynamicValidationState {\n  return {\n    hasSuspenseAboveBody: false,\n    hasDynamicMetadata: false,\n    hasDynamicViewport: false,\n    hasAllowedDynamic: false,\n    dynamicErrors: [],\n  }\n}\n\nexport function getFirstDynamicReason(\n  trackingState: DynamicTrackingState\n): undefined | string {\n  return trackingState.dynamicAccesses[0]?.expression\n}\n\n/**\n * This function communicates that the current scope should be treated as dynamic.\n *\n * In most cases this function is a no-op but if called during\n * a PPR prerender it will postpone the current sub-tree and calling\n * it during a normal prerender will cause the entire prerender to abort\n */\nexport function markCurrentScopeAsDynamic(\n  store: WorkStore,\n  workUnitStore: undefined | Exclude<WorkUnitStore, PrerenderStoreModern>,\n  expression: string\n): void {\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'cache':\n      case 'unstable-cache':\n        // Inside cache scopes, marking a scope as dynamic has no effect,\n        // because the outer cache scope creates a cache boundary. This is\n        // subtly different from reading a dynamic data source, which is\n        // forbidden inside a cache scope.\n        return\n      case 'private-cache':\n        // A private cache scope is already dynamic by definition.\n        return\n      case 'prerender-legacy':\n      case 'prerender-ppr':\n      case 'request':\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n\n  // If we're forcing dynamic rendering or we're forcing static rendering, we\n  // don't need to do anything here because the entire page is already dynamic\n  // or it's static and it should not throw or postpone here.\n  if (store.forceDynamic || store.forceStatic) return\n\n  if (store.dynamicShouldError) {\n    throw new StaticGenBailoutError(\n      `Route ${store.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n    )\n  }\n\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender-ppr':\n        return postponeWithTracking(\n          store.route,\n          expression,\n          workUnitStore.dynamicTracking\n        )\n      case 'prerender-legacy':\n        workUnitStore.revalidate = 0\n\n        // We aren't prerendering, but we are generating a static page. We need\n        // to bail out of static generation.\n        const err = new DynamicServerError(\n          `Route ${store.route} couldn't be rendered statically because it used ${expression}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n        )\n        store.dynamicUsageDescription = expression\n        store.dynamicUsageStack = err.stack\n\n        throw err\n      case 'request':\n        if (process.env.NODE_ENV !== 'production') {\n          workUnitStore.usedDynamic = true\n        }\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n}\n\n/**\n * This function is meant to be used when prerendering without cacheComponents or PPR.\n * When called during a build it will cause Next.js to consider the route as dynamic.\n *\n * @internal\n */\nexport function throwToInterruptStaticGeneration(\n  expression: string,\n  store: WorkStore,\n  prerenderStore: PrerenderStoreLegacy\n): never {\n  // We aren't prerendering but we are generating a static page. We need to bail out of static generation\n  const err = new DynamicServerError(\n    `Route ${store.route} couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n  )\n\n  prerenderStore.revalidate = 0\n\n  store.dynamicUsageDescription = expression\n  store.dynamicUsageStack = err.stack\n\n  throw err\n}\n\n/**\n * This function should be used to track whether something dynamic happened even when\n * we are in a dynamic render. This is useful for Dev where all renders are dynamic but\n * we still track whether dynamic APIs were accessed for helpful messaging\n *\n * @internal\n */\nexport function trackDynamicDataInDynamicRender(workUnitStore: WorkUnitStore) {\n  switch (workUnitStore.type) {\n    case 'cache':\n    case 'unstable-cache':\n      // Inside cache scopes, marking a scope as dynamic has no effect,\n      // because the outer cache scope creates a cache boundary. This is\n      // subtly different from reading a dynamic data source, which is\n      // forbidden inside a cache scope.\n      return\n    case 'private-cache':\n      // A private cache scope is already dynamic by definition.\n      return\n    case 'prerender':\n    case 'prerender-runtime':\n    case 'prerender-legacy':\n    case 'prerender-ppr':\n    case 'prerender-client':\n      break\n    case 'request':\n      if (process.env.NODE_ENV !== 'production') {\n        workUnitStore.usedDynamic = true\n      }\n      break\n    default:\n      workUnitStore satisfies never\n  }\n}\n\nfunction abortOnSynchronousDynamicDataAccess(\n  route: string,\n  expression: string,\n  prerenderStore: PrerenderStoreModern\n): void {\n  const reason = `Route ${route} needs to bail out of prerendering at this point because it used ${expression}.`\n\n  const error = createPrerenderInterruptedError(reason)\n\n  prerenderStore.controller.abort(error)\n\n  const dynamicTracking = prerenderStore.dynamicTracking\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      // When we aren't debugging, we don't need to create another error for the\n      // stack trace.\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n}\n\nexport function abortOnSynchronousPlatformIOAccess(\n  route: string,\n  expression: string,\n  errorWithStack: Error,\n  prerenderStore: PrerenderStoreModern\n): void {\n  const dynamicTracking = prerenderStore.dynamicTracking\n  abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore)\n  // It is important that we set this tracking value after aborting. Aborts are executed\n  // synchronously except for the case where you abort during render itself. By setting this\n  // value late we can use it to determine if any of the aborted tasks are the task that\n  // called the sync IO expression in the first place.\n  if (dynamicTracking) {\n    if (dynamicTracking.syncDynamicErrorWithStack === null) {\n      dynamicTracking.syncDynamicErrorWithStack = errorWithStack\n    }\n  }\n}\n\nexport function trackSynchronousPlatformIOAccessInDev(\n  requestStore: RequestStore\n): void {\n  // We don't actually have a controller to abort but we do the semantic equivalent by\n  // advancing the request store out of the prerender stage\n  if (requestStore.stagedRendering) {\n    // TODO: error for sync IO in the runtime stage\n    // (which is not currently covered by the validation render in `spawnDynamicValidationInDev`)\n    requestStore.stagedRendering.advanceStage(RenderStage.Dynamic)\n  }\n}\n\n/**\n * use this function when prerendering with cacheComponents. If we are doing a\n * prospective prerender we don't actually abort because we want to discover\n * all caches for the shell. If this is the actual prerender we do abort.\n *\n * This function accepts a prerenderStore but the caller should ensure we're\n * actually running in cacheComponents mode.\n *\n * @internal\n */\nexport function abortAndThrowOnSynchronousRequestDataAccess(\n  route: string,\n  expression: string,\n  errorWithStack: Error,\n  prerenderStore: PrerenderStoreModern\n): never {\n  const prerenderSignal = prerenderStore.controller.signal\n  if (prerenderSignal.aborted === false) {\n    // TODO it would be better to move this aborted check into the callsite so we can avoid making\n    // the error object when it isn't relevant to the aborting of the prerender however\n    // since we need the throw semantics regardless of whether we abort it is easier to land\n    // this way. See how this was handled with `abortOnSynchronousPlatformIOAccess` for a closer\n    // to ideal implementation\n    abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore)\n    // It is important that we set this tracking value after aborting. Aborts are executed\n    // synchronously except for the case where you abort during render itself. By setting this\n    // value late we can use it to determine if any of the aborted tasks are the task that\n    // called the sync IO expression in the first place.\n    const dynamicTracking = prerenderStore.dynamicTracking\n    if (dynamicTracking) {\n      if (dynamicTracking.syncDynamicErrorWithStack === null) {\n        dynamicTracking.syncDynamicErrorWithStack = errorWithStack\n      }\n    }\n  }\n  throw createPrerenderInterruptedError(\n    `Route ${route} needs to bail out of prerendering at this point because it used ${expression}.`\n  )\n}\n\n/**\n * This component will call `React.postpone` that throws the postponed error.\n */\ntype PostponeProps = {\n  reason: string\n  route: string\n}\nexport function Postpone({ reason, route }: PostponeProps): never {\n  const prerenderStore = workUnitAsyncStorage.getStore()\n  const dynamicTracking =\n    prerenderStore && prerenderStore.type === 'prerender-ppr'\n      ? prerenderStore.dynamicTracking\n      : null\n  postponeWithTracking(route, reason, dynamicTracking)\n}\n\nexport function postponeWithTracking(\n  route: string,\n  expression: string,\n  dynamicTracking: null | DynamicTrackingState\n): never {\n  assertPostpone()\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      // When we aren't debugging, we don't need to create another error for the\n      // stack trace.\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n\n  React.unstable_postpone(createPostponeReason(route, expression))\n}\n\nfunction createPostponeReason(route: string, expression: string) {\n  return (\n    `Route ${route} needs to bail out of prerendering at this point because it used ${expression}. ` +\n    `React throws this special object to indicate where. It should not be caught by ` +\n    `your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`\n  )\n}\n\nexport function isDynamicPostpone(err: unknown) {\n  if (\n    typeof err === 'object' &&\n    err !== null &&\n    typeof (err as any).message === 'string'\n  ) {\n    return isDynamicPostponeReason((err as any).message)\n  }\n  return false\n}\n\nfunction isDynamicPostponeReason(reason: string) {\n  return (\n    reason.includes(\n      'needs to bail out of prerendering at this point because it used'\n    ) &&\n    reason.includes(\n      'Learn more: https://nextjs.org/docs/messages/ppr-caught-error'\n    )\n  )\n}\n\nif (isDynamicPostponeReason(createPostponeReason('%%%', '^^^')) === false) {\n  throw new Error(\n    'Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js'\n  )\n}\n\nconst NEXT_PRERENDER_INTERRUPTED = 'NEXT_PRERENDER_INTERRUPTED'\n\nfunction createPrerenderInterruptedError(message: string): Error {\n  const error = new Error(message)\n  ;(error as any).digest = NEXT_PRERENDER_INTERRUPTED\n  return error\n}\n\ntype DigestError = Error & {\n  digest: string\n}\n\nexport function isPrerenderInterruptedError(\n  error: unknown\n): error is DigestError {\n  return (\n    typeof error === 'object' &&\n    error !== null &&\n    (error as any).digest === NEXT_PRERENDER_INTERRUPTED &&\n    'name' in error &&\n    'message' in error &&\n    error instanceof Error\n  )\n}\n\nexport function accessedDynamicData(\n  dynamicAccesses: Array<DynamicAccess>\n): boolean {\n  return dynamicAccesses.length > 0\n}\n\nexport function consumeDynamicAccess(\n  serverDynamic: DynamicTrackingState,\n  clientDynamic: DynamicTrackingState\n): DynamicTrackingState['dynamicAccesses'] {\n  // We mutate because we only call this once we are no longer writing\n  // to the dynamicTrackingState and it's more efficient than creating a new\n  // array.\n  serverDynamic.dynamicAccesses.push(...clientDynamic.dynamicAccesses)\n  return serverDynamic.dynamicAccesses\n}\n\nexport function formatDynamicAPIAccesses(\n  dynamicAccesses: Array<DynamicAccess>\n): string[] {\n  return dynamicAccesses\n    .filter(\n      (access): access is Required<DynamicAccess> =>\n        typeof access.stack === 'string' && access.stack.length > 0\n    )\n    .map(({ expression, stack }) => {\n      stack = stack\n        .split('\\n')\n        // Remove the \"Error: \" prefix from the first line of the stack trace as\n        // well as the first 4 lines of the stack trace which is the distance\n        // from the user code and the `new Error().stack` call.\n        .slice(4)\n        .filter((line) => {\n          // Exclude Next.js internals from the stack trace.\n          if (line.includes('node_modules/next/')) {\n            return false\n          }\n\n          // Exclude anonymous functions from the stack trace.\n          if (line.includes(' (<anonymous>)')) {\n            return false\n          }\n\n          // Exclude Node.js internals from the stack trace.\n          if (line.includes(' (node:')) {\n            return false\n          }\n\n          return true\n        })\n        .join('\\n')\n      return `Dynamic API Usage Debug - ${expression}:\\n${stack}`\n    })\n}\n\nfunction assertPostpone() {\n  if (!hasPostpone) {\n    throw new Error(\n      `Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js`\n    )\n  }\n}\n\n/**\n * This is a bit of a hack to allow us to abort a render using a Postpone instance instead of an Error which changes React's\n * abort semantics slightly.\n */\nexport function createRenderInBrowserAbortSignal(): AbortSignal {\n  const controller = new AbortController()\n  controller.abort(new BailoutToCSRError('Render in Browser'))\n  return controller.signal\n}\n\n/**\n * In a prerender, we may end up with hanging Promises as inputs due them\n * stalling on connection() or because they're loading dynamic data. In that\n * case we need to abort the encoding of arguments since they'll never complete.\n */\nexport function createHangingInputAbortSignal(\n  workUnitStore: WorkUnitStore\n): AbortSignal | undefined {\n  switch (workUnitStore.type) {\n    case 'prerender':\n    case 'prerender-runtime':\n      const controller = new AbortController()\n\n      if (workUnitStore.cacheSignal) {\n        // If we have a cacheSignal it means we're in a prospective render. If\n        // the input we're waiting on is coming from another cache, we do want\n        // to wait for it so that we can resolve this cache entry too.\n        workUnitStore.cacheSignal.inputReady().then(() => {\n          controller.abort()\n        })\n      } else {\n        // Otherwise we're in the final render and we should already have all\n        // our caches filled.\n        // If the prerender uses stages, we have wait until the runtime stage,\n        // at which point all runtime inputs will be resolved.\n        // (otherwise, a runtime prerender might consider `cookies()` hanging\n        //  even though they'd resolve in the next task.)\n        //\n        // We might still be waiting on some microtasks so we\n        // wait one tick before giving up. When we give up, we still want to\n        // render the content of this cache as deeply as we can so that we can\n        // suspend as deeply as possible in the tree or not at all if we don't\n        // end up waiting for the input.\n        const runtimeStagePromise = getRuntimeStagePromise(workUnitStore)\n        if (runtimeStagePromise) {\n          runtimeStagePromise.then(() =>\n            scheduleOnNextTick(() => controller.abort())\n          )\n        } else {\n          scheduleOnNextTick(() => controller.abort())\n        }\n      }\n\n      return controller.signal\n    case 'prerender-client':\n    case 'prerender-ppr':\n    case 'prerender-legacy':\n    case 'request':\n    case 'cache':\n    case 'private-cache':\n    case 'unstable-cache':\n      return undefined\n    default:\n      workUnitStore satisfies never\n  }\n}\n\nexport function annotateDynamicAccess(\n  expression: string,\n  prerenderStore: PrerenderStoreModern\n) {\n  const dynamicTracking = prerenderStore.dynamicTracking\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n}\n\nexport function useDynamicRouteParams(expression: string) {\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workStore && workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender-client':\n      case 'prerender': {\n        const fallbackParams = workUnitStore.fallbackRouteParams\n\n        if (fallbackParams && fallbackParams.size > 0) {\n          // We are in a prerender with cacheComponents semantics. We are going to\n          // hang here and never resolve. This will cause the currently\n          // rendering component to effectively be a dynamic hole.\n          React.use(\n            makeHangingPromise(\n              workUnitStore.renderSignal,\n              workStore.route,\n              expression\n            )\n          )\n        }\n        break\n      }\n      case 'prerender-ppr': {\n        const fallbackParams = workUnitStore.fallbackRouteParams\n        if (fallbackParams && fallbackParams.size > 0) {\n          return postponeWithTracking(\n            workStore.route,\n            expression,\n            workUnitStore.dynamicTracking\n          )\n        }\n        break\n      }\n      case 'prerender-runtime':\n        throw new InvariantError(\n          `\\`${expression}\\` was called during a runtime prerender. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n        )\n      case 'cache':\n      case 'private-cache':\n        throw new InvariantError(\n          `\\`${expression}\\` was called inside a cache scope. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n        )\n      case 'prerender-legacy':\n      case 'request':\n      case 'unstable-cache':\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n}\n\nexport function useDynamicSearchParams(expression: string) {\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (!workStore) {\n    // We assume pages router context and just return\n    return\n  }\n\n  if (!workUnitStore) {\n    throwForMissingRequestStore(expression)\n  }\n\n  switch (workUnitStore.type) {\n    case 'prerender-client': {\n      React.use(\n        makeHangingPromise(\n          workUnitStore.renderSignal,\n          workStore.route,\n          expression\n        )\n      )\n      break\n    }\n    case 'prerender-legacy':\n    case 'prerender-ppr': {\n      if (workStore.forceStatic) {\n        return\n      }\n      throw new BailoutToCSRError(expression)\n    }\n    case 'prerender':\n    case 'prerender-runtime':\n      throw new InvariantError(\n        `\\`${expression}\\` was called from a Server Component. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n      )\n    case 'cache':\n    case 'unstable-cache':\n    case 'private-cache':\n      throw new InvariantError(\n        `\\`${expression}\\` was called inside a cache scope. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n      )\n    case 'request':\n      return\n    default:\n      workUnitStore satisfies never\n  }\n}\n\nconst hasSuspenseRegex = /\\n\\s+at Suspense \\(<anonymous>\\)/\n\n// Common implicit body tags that React will treat as body when placed directly in html\nconst bodyAndImplicitTags =\n  'body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6'\n\n// Detects when RootLayoutBoundary (our framework marker component) appears\n// after Suspense in the component stack, indicating the root layout is wrapped\n// within a Suspense boundary. Ensures no body/html/implicit-body components are in between.\n//\n// Example matches:\n//   at Suspense (<anonymous>)\n//   at __next_root_layout_boundary__ (<anonymous>)\n//\n// Or with other components in between (but not body/html/implicit-body):\n//   at Suspense (<anonymous>)\n//   at SomeComponent (<anonymous>)\n//   at __next_root_layout_boundary__ (<anonymous>)\nconst hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex = new RegExp(\n  `\\\\n\\\\s+at Suspense \\\\(<anonymous>\\\\)(?:(?!\\\\n\\\\s+at (?:${bodyAndImplicitTags}) \\\\(<anonymous>\\\\))[\\\\s\\\\S])*?\\\\n\\\\s+at ${ROOT_LAYOUT_BOUNDARY_NAME} \\\\([^\\\\n]*\\\\)`\n)\n\nconst hasMetadataRegex = new RegExp(\n  `\\\\n\\\\s+at ${METADATA_BOUNDARY_NAME}[\\\\n\\\\s]`\n)\nconst hasViewportRegex = new RegExp(\n  `\\\\n\\\\s+at ${VIEWPORT_BOUNDARY_NAME}[\\\\n\\\\s]`\n)\nconst hasOutletRegex = new RegExp(`\\\\n\\\\s+at ${OUTLET_BOUNDARY_NAME}[\\\\n\\\\s]`)\n\nexport function trackAllowedDynamicAccess(\n  workStore: WorkStore,\n  componentStack: string,\n  dynamicValidation: DynamicValidationState,\n  clientDynamic: DynamicTrackingState\n) {\n  if (hasOutletRegex.test(componentStack)) {\n    // We don't need to track that this is dynamic. It is only so when something else is also dynamic.\n    return\n  } else if (hasMetadataRegex.test(componentStack)) {\n    dynamicValidation.hasDynamicMetadata = true\n    return\n  } else if (hasViewportRegex.test(componentStack)) {\n    dynamicValidation.hasDynamicViewport = true\n    return\n  } else if (\n    hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex.test(\n      componentStack\n    )\n  ) {\n    // For Suspense within body, the prelude wouldn't be empty so it wouldn't violate the empty static shells rule.\n    // But if you have Suspense above body, the prelude is empty but we allow that because having Suspense\n    // is an explicit signal from the user that they acknowledge the empty shell and want dynamic rendering.\n    dynamicValidation.hasAllowedDynamic = true\n    dynamicValidation.hasSuspenseAboveBody = true\n    return\n  } else if (hasSuspenseRegex.test(componentStack)) {\n    // this error had a Suspense boundary above it so we don't need to report it as a source\n    // of disallowed\n    dynamicValidation.hasAllowedDynamic = true\n    return\n  } else if (clientDynamic.syncDynamicErrorWithStack) {\n    // This task was the task that called the sync error.\n    dynamicValidation.dynamicErrors.push(\n      clientDynamic.syncDynamicErrorWithStack\n    )\n    return\n  } else {\n    const message =\n      `Route \"${workStore.route}\": Uncached data was accessed outside of ` +\n      '<Suspense>. This delays the entire page from rendering, resulting in a ' +\n      'slow user experience. Learn more: ' +\n      'https://nextjs.org/docs/messages/blocking-route'\n    const error = createErrorWithComponentOrOwnerStack(message, componentStack)\n    dynamicValidation.dynamicErrors.push(error)\n    return\n  }\n}\n\n/**\n * In dev mode, we prefer using the owner stack, otherwise the provided\n * component stack is used.\n */\nfunction createErrorWithComponentOrOwnerStack(\n  message: string,\n  componentStack: string\n) {\n  const ownerStack =\n    process.env.NODE_ENV !== 'production' && React.captureOwnerStack\n      ? React.captureOwnerStack()\n      : null\n\n  const error = new Error(message)\n  error.stack = error.name + ': ' + message + (ownerStack ?? componentStack)\n  return error\n}\n\nexport enum PreludeState {\n  Full = 0,\n  Empty = 1,\n  Errored = 2,\n}\n\nexport function logDisallowedDynamicError(\n  workStore: WorkStore,\n  error: Error\n): void {\n  console.error(error)\n\n  if (!workStore.dev) {\n    if (workStore.hasReadableErrorStacks) {\n      console.error(\n        `To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"${workStore.route}\" in your browser to investigate the error.`\n      )\n    } else {\n      console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:\n  - Start the app in development mode by running \\`next dev\\`, then open \"${workStore.route}\" in your browser to investigate the error.\n  - Rerun the production build with \\`next build --debug-prerender\\` to generate better stack traces.`)\n    }\n  }\n}\n\nexport function throwIfDisallowedDynamic(\n  workStore: WorkStore,\n  prelude: PreludeState,\n  dynamicValidation: DynamicValidationState,\n  serverDynamic: DynamicTrackingState\n): void {\n  if (serverDynamic.syncDynamicErrorWithStack) {\n    logDisallowedDynamicError(\n      workStore,\n      serverDynamic.syncDynamicErrorWithStack\n    )\n    throw new StaticGenBailoutError()\n  }\n\n  if (prelude !== PreludeState.Full) {\n    if (dynamicValidation.hasSuspenseAboveBody) {\n      // This route has opted into allowing fully dynamic rendering\n      // by including a Suspense boundary above the body. In this case\n      // a lack of a shell is not considered disallowed so we simply return\n      return\n    }\n\n    // We didn't have any sync bailouts but there may be user code which\n    // blocked the root. We would have captured these during the prerender\n    // and can log them here and then terminate the build/validating render\n    const dynamicErrors = dynamicValidation.dynamicErrors\n    if (dynamicErrors.length > 0) {\n      for (let i = 0; i < dynamicErrors.length; i++) {\n        logDisallowedDynamicError(workStore, dynamicErrors[i])\n      }\n\n      throw new StaticGenBailoutError()\n    }\n\n    // If we got this far then the only other thing that could be blocking\n    // the root is dynamic Viewport. If this is dynamic then\n    // you need to opt into that by adding a Suspense boundary above the body\n    // to indicate your are ok with fully dynamic rendering.\n    if (dynamicValidation.hasDynamicViewport) {\n      console.error(\n        `Route \"${workStore.route}\" has a \\`generateViewport\\` that depends on Request data (\\`cookies()\\`, etc...) or uncached external data (\\`fetch(...)\\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`\n      )\n      throw new StaticGenBailoutError()\n    }\n\n    if (prelude === PreludeState.Empty) {\n      // If we ever get this far then we messed up the tracking of invalid dynamic.\n      // We still adhere to the constraint that you must produce a shell but invite the\n      // user to report this as a bug in Next.js.\n      console.error(\n        `Route \"${workStore.route}\" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`\n      )\n      throw new StaticGenBailoutError()\n    }\n  } else {\n    if (\n      dynamicValidation.hasAllowedDynamic === false &&\n      dynamicValidation.hasDynamicMetadata\n    ) {\n      console.error(\n        `Route \"${workStore.route}\" has a \\`generateMetadata\\` that depends on Request data (\\`cookies()\\`, etc...) or uncached external data (\\`fetch(...)\\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`\n      )\n      throw new StaticGenBailoutError()\n    }\n  }\n}\n\nexport function delayUntilRuntimeStage<T>(\n  prerenderStore: PrerenderStoreModernRuntime,\n  result: Promise<T>\n): Promise<T> {\n  if (prerenderStore.runtimeStagePromise) {\n    return prerenderStore.runtimeStagePromise.then(() => result)\n  }\n  return result\n}\n","import { isHangingPromiseRejectionError } from '../../server/dynamic-rendering-utils'\nimport { isPostpone } from '../../server/lib/router-utils/is-postpone'\nimport { isBailoutToCSRError } from '../../shared/lib/lazy-dynamic/bailout-to-csr'\nimport { isNextRouterError } from './is-next-router-error'\nimport {\n  isDynamicPostpone,\n  isPrerenderInterruptedError,\n} from '../../server/app-render/dynamic-rendering'\nimport { isDynamicServerError } from './hooks-server-context'\n\nexport function unstable_rethrow(error: unknown): void {\n  if (\n    isNextRouterError(error) ||\n    isBailoutToCSRError(error) ||\n    isDynamicServerError(error) ||\n    isDynamicPostpone(error) ||\n    isPostpone(error) ||\n    isHangingPromiseRejectionError(error) ||\n    isPrerenderInterruptedError(error)\n  ) {\n    throw error\n  }\n\n  if (error instanceof Error && 'cause' in error) {\n    unstable_rethrow(error.cause)\n  }\n}\n","/**\n * This function should be used to rethrow internal Next.js errors so that they can be handled by the framework.\n * When wrapping an API that uses errors to interrupt control flow, you should use this function before you do any error handling.\n * This function will rethrow the error if it is a Next.js error so it can be handled, otherwise it will do nothing.\n *\n * Read more: [Next.js Docs: `unstable_rethrow`](https://nextjs.org/docs/app/api-reference/functions/unstable_rethrow)\n */\nexport const unstable_rethrow =\n  typeof window === 'undefined'\n    ? (\n        require('./unstable-rethrow.server') as typeof import('./unstable-rethrow.server')\n      ).unstable_rethrow\n    : (\n        require('./unstable-rethrow.browser') as typeof import('./unstable-rethrow.browser')\n      ).unstable_rethrow\n","import { ReadonlyURLSearchParams } from './readonly-url-search-params'\n\nexport function unstable_isUnrecognizedActionError(): boolean {\n  throw new Error(\n    '`unstable_isUnrecognizedActionError` can only be used on the client.'\n  )\n}\n\nexport { redirect, permanentRedirect } from './redirect'\nexport { RedirectType } from './redirect-error'\nexport { notFound } from './not-found'\nexport { forbidden } from './forbidden'\nexport { unauthorized } from './unauthorized'\nexport { unstable_rethrow } from './unstable-rethrow'\nexport { ReadonlyURLSearchParams }\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/TableOfContents.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/TableOfContents.tsx\",\n    \"default\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/ShareButtons.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ShareButtons.tsx\",\n    \"default\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/BlogHeader.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/BlogHeader.tsx\",\n    \"default\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/BlogCTA.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/BlogCTA.tsx\",\n    \"default\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/StickyContainer.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/StickyContainer.tsx\",\n    \"default\",\n);\n","export * from '../client/components/navigation.react-server';\n\n//# sourceMappingURL=navigation.react-server.js.map","import type {\n  ArbitraryTypedObject,\n  PortableTextBlock,\n  PortableTextListItemBlock,\n  PortableTextSpan,\n  TypedObject,\n} from '@portabletext/types'\n\nimport type {ToolkitNestedPortableTextSpan, ToolkitPortableTextList, ToolkitTextNode} from './types'\n\n/**\n * Strict check to determine if node is a correctly formatted Portable Text span.\n *\n * @param node - Node to check\n * @returns True if valid Portable Text span, otherwise false\n */\nexport function isPortableTextSpan(\n  node: ArbitraryTypedObject | PortableTextSpan,\n): node is PortableTextSpan {\n  return (\n    node._type === 'span' &&\n    'text' in node &&\n    typeof node.text === 'string' &&\n    (typeof node.marks === 'undefined' ||\n      (Array.isArray(node.marks) && node.marks.every((mark) => typeof mark === 'string')))\n  )\n}\n\n/**\n * Strict check to determine if node is a correctly formatted Portable Text block.\n *\n * @param node - Node to check\n * @returns True if valid Portable Text block, otherwise false\n */\nexport function isPortableTextBlock(\n  node: PortableTextBlock | TypedObject,\n): node is PortableTextBlock {\n  return (\n    // A block doesn't _have_ to be named 'block' - to differentiate between\n    // allowed child types and marks, one might name them differently\n    typeof node._type === 'string' &&\n    // Toolkit-types like nested spans are @-prefixed\n    node._type[0] !== '@' &&\n    // `markDefs` isn't _required_ per say, but if it's there, it needs to be an array\n    (!('markDefs' in node) ||\n      !node.markDefs ||\n      (Array.isArray(node.markDefs) &&\n        // Every mark definition needs to have an `_key` to be mappable in child spans\n        node.markDefs.every((def) => typeof def._key === 'string'))) &&\n    // `children` is required and needs to be an array\n    'children' in node &&\n    Array.isArray(node.children) &&\n    // All children are objects with `_type` (usually spans, but can contain other stuff)\n    node.children.every((child) => typeof child === 'object' && '_type' in child)\n  )\n}\n\n/**\n * Strict check to determine if node is a correctly formatted portable list item block.\n *\n * @param block - Block to check\n * @returns True if valid Portable Text list item block, otherwise false\n */\nexport function isPortableTextListItemBlock(\n  block: PortableTextBlock | TypedObject,\n): block is PortableTextListItemBlock {\n  return (\n    isPortableTextBlock(block) &&\n    'listItem' in block &&\n    typeof block.listItem === 'string' &&\n    (typeof block.level === 'undefined' || typeof block.level === 'number')\n  )\n}\n\n/**\n * Loose check to determine if block is a toolkit list node.\n * Only checks `_type`, assumes correct structure.\n *\n * @param block - Block to check\n * @returns True if toolkit list, otherwise false\n */\nexport function isPortableTextToolkitList(\n  block: TypedObject | ToolkitPortableTextList,\n): block is ToolkitPortableTextList {\n  return block._type === '@list'\n}\n\n/**\n * Loose check to determine if span is a toolkit span node.\n * Only checks `_type`, assumes correct structure.\n *\n * @param span - Span to check\n * @returns True if toolkit span, otherwise false\n */\nexport function isPortableTextToolkitSpan(\n  span: TypedObject | ToolkitNestedPortableTextSpan,\n): span is ToolkitNestedPortableTextSpan {\n  return span._type === '@span'\n}\n\n/**\n * Loose check to determine if node is a toolkit text node.\n * Only checks `_type`, assumes correct structure.\n *\n * @param node - Node to check\n * @returns True if toolkit text node, otherwise false\n */\nexport function isPortableTextToolkitTextNode(\n  node: TypedObject | ToolkitTextNode,\n): node is ToolkitTextNode {\n  return node._type === '@text'\n}\n","export * from '../client/components/navigation.react-server'\n","import type { Metadata } from \"next\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { notFound } from \"next/navigation\";\r\nimport { PortableText } from \"@portabletext/react\";\r\nimport { sanityClient, urlFor, BLOG_POST_QUERY, RELATED_BLOGS_QUERY, type BlogPost } from \"@/lib/sanity\";\r\nimport TableOfContents from \"@/components/TableOfContents\";\r\nimport ShareButtons from \"@/components/ShareButtons\";\r\nimport BlogHeader from \"@/components/BlogHeader\";\r\nimport BlogCTA from \"@/components/BlogCTA\";\r\nimport StickyContainer from \"@/components/StickyContainer\";\r\n\r\ninterface TocItem {\r\n  id: string;\r\n  text: string;\r\n  level: number;\r\n}\r\n\r\ninterface PageProps {\r\n  params: Promise<{ slug: string }>;\r\n}\r\n\r\nexport async function generateMetadata({ params }: PageProps): Promise<Metadata> {\r\n  const { slug } = await params;\r\n  const blog = await getBlogPost(slug);\r\n\r\n  if (!blog) {\r\n    return {\r\n      title: \"Blog Post Not Found | EchoPulse\",\r\n    };\r\n  }\r\n\r\n  return {\r\n    title: `${blog.title} | EchoPulse Blog`,\r\n    description: blog.excerpt || `Read ${blog.title} on the EchoPulse blog.`,\r\n    openGraph: {\r\n      title: blog.title,\r\n      description: blog.excerpt || `Read ${blog.title} on the EchoPulse blog.`,\r\n      type: \"article\",\r\n      publishedTime: blog.publishedAt,\r\n      authors: blog.author ? [blog.author] : undefined,\r\n      images: blog.mainImage ? [urlFor(blog.mainImage).width(1200).height(630).url()] : undefined,\r\n    },\r\n  };\r\n}\r\n\r\nasync function getBlogPost(slug: string): Promise<BlogPost | null> {\r\n  try {\r\n    return await sanityClient.fetch(BLOG_POST_QUERY, { slug });\r\n  } catch (error) {\r\n    console.error(\"Error fetching blog post:\", error);\r\n    return null;\r\n  }\r\n}\r\n\r\nasync function getRelatedBlogs(slug: string): Promise<BlogPost[]> {\r\n  try {\r\n    return await sanityClient.fetch(RELATED_BLOGS_QUERY, { slug });\r\n  } catch (error) {\r\n    console.error(\"Error fetching related blogs:\", error);\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction slugify(text: string): string {\r\n  return text\r\n    .toString()\r\n    .toLowerCase()\r\n    .trim()\r\n    .replace(/\\s+/g, \"-\")\r\n    .replace(/[^\\w\\-]+/g, \"\")\r\n    .replace(/\\-\\-+/g, \"-\");\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction extractHeadings(content: any[]): TocItem[] {\r\n  if (!content) return [];\r\n  \r\n  const headings: TocItem[] = [];\r\n  \r\n  content.forEach((block) => {\r\n    if (block._type === \"block\" && [\"h1\", \"h2\", \"h3\"].includes(block.style)) {\r\n      const text = block.children\r\n        ?.map((child: { text?: string }) => child.text || \"\")\r\n        .join(\"\") || \"\";\r\n      \r\n      if (text) {\r\n        headings.push({\r\n          id: slugify(text),\r\n          text,\r\n          level: parseInt(block.style.replace(\"h\", \"\"), 10),\r\n        });\r\n      }\r\n    }\r\n  });\r\n  \r\n  return headings;\r\n}\r\n\r\nconst portableTextComponents = {\r\n  block: {\r\n    h1: ({ children }: { children?: React.ReactNode }) => {\r\n      const id = slugify(String(children || \"\"));\r\n      return <h1 id={id} className=\"text-3xl font-bold text-gray-900 mt-8 mb-4 scroll-mt-24\">{children}</h1>;\r\n    },\r\n    h2: ({ children }: { children?: React.ReactNode }) => {\r\n      const id = slugify(String(children || \"\"));\r\n      return <h2 id={id} className=\"text-2xl font-bold text-gray-900 mt-8 mb-4 scroll-mt-24\">{children}</h2>;\r\n    },\r\n    h3: ({ children }: { children?: React.ReactNode }) => {\r\n      const id = slugify(String(children || \"\"));\r\n      return <h3 id={id} className=\"text-xl font-bold text-gray-900 mt-6 mb-3 scroll-mt-24\">{children}</h3>;\r\n    },\r\n    h4: ({ children }: { children?: React.ReactNode }) => <h4 className=\"text-lg font-bold text-gray-900 mt-4 mb-2\">{children}</h4>,\r\n    normal: ({ children }: { children?: React.ReactNode }) => <p className=\"text-gray-700 mb-4 leading-relaxed\">{children}</p>,\r\n    blockquote: ({ children }: { children?: React.ReactNode }) => (\r\n      <blockquote className=\"border-l-4 border-orange-500 pl-4 my-6 italic text-gray-600\">\r\n        {children}\r\n      </blockquote>\r\n    ),\r\n  },\r\n  list: {\r\n    bullet: ({ children }: { children?: React.ReactNode }) => <ul className=\"list-disc list-inside mb-4 text-gray-700 space-y-2\">{children}</ul>,\r\n    number: ({ children }: { children?: React.ReactNode }) => <ol className=\"list-decimal list-inside mb-4 text-gray-700 space-y-2\">{children}</ol>,\r\n  },\r\n  listItem: {\r\n    bullet: ({ children }: { children?: React.ReactNode }) => <li>{children}</li>,\r\n    number: ({ children }: { children?: React.ReactNode }) => <li>{children}</li>,\r\n  },\r\n  marks: {\r\n    strong: ({ children }: { children?: React.ReactNode }) => <strong className=\"font-bold text-gray-900\">{children}</strong>,\r\n    em: ({ children }: { children?: React.ReactNode }) => <em className=\"italic\">{children}</em>,\r\n    link: ({ value, children }: { value?: { href?: string }; children?: React.ReactNode }) => (\r\n      <a\r\n        href={value?.href}\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        className=\"text-orange-500 hover:text-orange-400 underline\"\r\n      >\r\n        {children}\r\n      </a>\r\n    ),\r\n  },\r\n  types: {\r\n    image: ({ value }: { value?: { asset?: unknown; alt?: string; caption?: string } }) => {\r\n      if (!value?.asset) return null;\r\n      return (\r\n        <figure className=\"my-8\">\r\n          <img\r\n            src={urlFor(value).width(800).url()}\r\n            alt={value.alt || \"\"}\r\n            className=\"w-full rounded-xl border border-gray-200 shadow-md\"\r\n          />\r\n          {value.caption && (\r\n            <figcaption className=\"text-center text-sm text-gray-500 mt-2\">\r\n              {value.caption}\r\n            </figcaption>\r\n          )}\r\n        </figure>\r\n      );\r\n    },\r\n    video: ({ value }: { value?: { url?: string; title?: string } }) => {\r\n      if (!value?.url) return null;\r\n      return (\r\n        <div className=\"my-8 aspect-video rounded-xl overflow-hidden border border-gray-200 shadow-md\">\r\n          <video\r\n            src={value.url}\r\n            controls\r\n            className=\"w-full h-full object-cover\"\r\n            title={value.title || \"Video\"}\r\n          />\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n};\r\n\r\nexport default async function BlogPostPage({ params }: PageProps) {\r\n  const { slug } = await params;\r\n  const blog = await getBlogPost(slug);\r\n\r\n  if (!blog) {\r\n    notFound();\r\n  }\r\n\r\n  const relatedBlogs = await getRelatedBlogs(slug);\r\n  const headings = extractHeadings(blog.content || []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white\">\r\n      {/* Blog Header/Navbar */}\r\n      <BlogHeader />\r\n\r\n      {/* Main Article Section with 3-column layout */}\r\n      <section id=\"article-container\" className=\"relative bg-white pt-24 sm:pt-28 lg:pt-32 pb-12 sm:pb-16 lg:pb-20\">\r\n        <div className=\"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex gap-8 items-start\">\r\n            {/* Left Column - Table of Contents (Desktop) */}\r\n            <div className=\"hidden lg:block w-56 shrink-0\">\r\n              <StickyContainer boundaryId=\"article-container\" offsetTop={112} className=\"max-h-[calc(100vh-8rem)] overflow-y-auto\">\r\n                {headings.length > 0 && <TableOfContents headings={headings} />}\r\n              </StickyContainer>\r\n            </div>\r\n\r\n            {/* Center Column - Main Content */}\r\n            <div className=\"flex-1 min-w-0 max-w-3xl\">\r\n              {/* Breadcrumb Navigation */}\r\n              <nav className=\"mb-8\">\r\n                <div className=\"inline-flex items-center gap-3\">\r\n                  <Link\r\n                    href=\"/blogs\"\r\n                    className=\"px-5 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 bg-gray-100 hover:bg-gray-200 rounded-full transition-colors\"\r\n                  >\r\n                    All Articles\r\n                  </Link>\r\n                  <span className=\"text-gray-400 text-lg\">/</span>\r\n                  <span className=\"text-sm font-medium text-orange-500\">\r\n                    {blog.title.length > 35 ? blog.title.substring(0, 35) + \"...\" : blog.title}\r\n                  </span>\r\n                </div>\r\n              </nav>\r\n\r\n              {/* Title & Meta */}\r\n              {blog.category && (\r\n                <div className=\"inline-flex items-center gap-2 bg-orange-100 px-3 py-1.5 rounded-full mb-4 border border-orange-200\">\r\n                  <span className=\"text-orange-600 font-semibold text-xs uppercase tracking-wider\">\r\n                    {blog.category}\r\n                  </span>\r\n                </div>\r\n              )}\r\n\r\n              <h1 className=\"text-3xl sm:text-4xl lg:text-5xl font-extrabold text-gray-900 mb-6 leading-tight\">\r\n                {blog.title}\r\n              </h1>\r\n\r\n              <div className=\"flex flex-wrap items-center gap-4 text-sm text-gray-500\">\r\n                {blog.publishedAt && (\r\n                  <span>\r\n                    {new Date(blog.publishedAt).toLocaleDateString(\"en-US\", {\r\n                      month: \"long\",\r\n                      day: \"numeric\",\r\n                      year: \"numeric\",\r\n                    })}\r\n                  </span>\r\n                )}\r\n                {blog.author && (\r\n                  <>\r\n                    <span className=\"text-gray-300\"></span>\r\n                    <span>By {blog.author}</span>\r\n                  </>\r\n                )}\r\n                {blog.readTime && (\r\n                  <>\r\n                    <span className=\"text-gray-300\"></span>\r\n                    <span>{blog.readTime} min read</span>\r\n                  </>\r\n                )}\r\n              </div>\r\n\r\n              {/* Share Buttons */}\r\n              <div className=\"mt-6 mb-10\">\r\n                <ShareButtons \r\n                  url={`https://echopulse.media/blogs/${slug}`} \r\n                  title={blog.title} \r\n                />\r\n              </div>\r\n\r\n              {/* Featured Image */}\r\n              {blog.mainImage && (\r\n                <div className=\"mb-10\">\r\n                  <Image\r\n                    src={urlFor(blog.mainImage).width(1200).height(675).fit(\"crop\").url()}\r\n                    alt={blog.title}\r\n                    width={1200}\r\n                    height={675}\r\n                    className=\"aspect-video w-full object-cover rounded-2xl border border-gray-200 shadow-lg\"\r\n                    priority\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {/* Article Content */}\r\n              <article className=\"prose prose-orange max-w-none text-gray-700 text-base sm:text-lg leading-relaxed\">\r\n                {blog.content ? (\r\n                  <PortableText value={blog.content} components={portableTextComponents} />\r\n                ) : (\r\n                  <div className=\"text-center py-12\">\r\n                    <p className=\"text-gray-500\">Content not available.</p>\r\n                  </div>\r\n                )}\r\n              </article>\r\n\r\n              {/* Tags */}\r\n              {blog.tags && blog.tags.length > 0 && (\r\n                <div className=\"mt-12 pt-8 border-t border-gray-200\">\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {blog.tags.map((tag) => (\r\n                      <span\r\n                        key={tag}\r\n                        className=\"px-3 py-1 text-sm bg-gray-100 text-gray-600 rounded-full border border-gray-200\"\r\n                      >\r\n                        {tag}\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Right Column - CTA (Desktop) */}\r\n            <div className=\"hidden lg:block w-64 shrink-0\">\r\n              <StickyContainer boundaryId=\"article-container\" offsetTop={112}>\r\n                <BlogCTA />\r\n              </StickyContainer>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* More from EchoPulse Section */}\r\n      {relatedBlogs.length > 0 && (\r\n        <section id=\"more-articles\" className=\"py-16 bg-gray-50\">\r\n          <div className=\"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\r\n            <h2 className=\"text-3xl font-bold text-gray-900 mb-10 text-center\">\r\n              More from EchoPulse\r\n            </h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n              {relatedBlogs.map((relatedBlog) => (\r\n                <Link\r\n                  key={relatedBlog.slug}\r\n                  href={`/blogs/${relatedBlog.slug}`}\r\n                  className=\"group bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-lg transition-all hover:-translate-y-1\"\r\n                >\r\n                  {relatedBlog.mainImage ? (\r\n                    <Image\r\n                      src={urlFor(relatedBlog.mainImage).width(600).height(338).fit(\"crop\").url()}\r\n                      alt={relatedBlog.title}\r\n                      width={600}\r\n                      height={338}\r\n                      className=\"w-full aspect-video object-cover\"\r\n                    />\r\n                  ) : (\r\n                    <div className=\"w-full aspect-video bg-gradient-to-br from-orange-100 to-orange-50\" />\r\n                  )}\r\n                  <div className=\"p-4\">\r\n                    {relatedBlog.publishedAt && (\r\n                      <span className=\"text-xs text-gray-500\">\r\n                        {new Date(relatedBlog.publishedAt).toLocaleDateString(\"en-US\", {\r\n                          month: \"short\",\r\n                          day: \"numeric\",\r\n                          year: \"numeric\",\r\n                        })}\r\n                      </span>\r\n                    )}\r\n                    <h3 className=\"text-sm font-semibold text-gray-900 mt-1 group-hover:text-orange-500 transition-colors line-clamp-2\">\r\n                      {relatedBlog.title}\r\n                    </h3>\r\n                  </div>\r\n                </Link>\r\n              ))}\r\n            </div>\r\n            <div className=\"text-center mt-10\">\r\n              <Link\r\n                href=\"/blogs\"\r\n                className=\"inline-flex items-center gap-2 px-6 py-3 bg-gray-900 hover:bg-gray-800 text-white font-semibold rounded-full transition-colors\"\r\n              >\r\n                More Articles\r\n                <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 5l7 7-7 7\" />\r\n                </svg>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      {/* Footer */}\r\n      <footer className=\"bg-gray-900 text-white py-12\">\r\n        <div className=\"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8\">\r\n            <div className=\"md:col-span-1\">\r\n              <Link href=\"/\" className=\"flex items-center gap-2 mb-4\">\r\n                <img src=\"/Icon.png\" alt=\"EchoPulse\" className=\"w-10 h-10 rounded-lg object-contain\" />\r\n                <span className=\"text-xl font-bold text-white\">EchoPulse</span>\r\n              </Link>\r\n              <p className=\"text-gray-400 text-sm mb-4\">\r\n                Amplify your brand with professional content creation\r\n              </p>\r\n              <div className=\"flex items-center gap-3\">\r\n                <a\r\n                  href=\"https://www.instagram.com/echopulse.media\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"w-9 h-9 rounded-full bg-white/10 flex items-center justify-center hover:bg-gradient-to-br hover:from-purple-500 hover:via-pink-500 hover:to-orange-500 transition-all\"\r\n                  aria-label=\"Instagram\"\r\n                >\r\n                  <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"#ffffff\">\r\n                    <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\"/>\r\n                  </svg>\r\n                </a>\r\n                <a\r\n                  href=\"https://www.linkedin.com/company/echo-pulse-media/\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"w-9 h-9 rounded-full bg-white/10 flex items-center justify-center hover:bg-[#0077B5] transition-all\"\r\n                  aria-label=\"LinkedIn\"\r\n                >\r\n                  <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"#ffffff\">\r\n                    <path d=\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\"/>\r\n                  </svg>\r\n                </a>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <h4 className=\"text-sm font-semibold text-white uppercase tracking-wider mb-4\">Quick Links</h4>\r\n              <ul className=\"space-y-2 text-sm\">\r\n                <li><Link href=\"/\" className=\"text-gray-400 hover:text-orange-500 transition-colors\">Home</Link></li>\r\n                <li><Link href=\"/#our-work\" className=\"text-gray-400 hover:text-orange-500 transition-colors\">Our Work</Link></li>\r\n                <li><Link href=\"/blogs\" className=\"text-gray-400 hover:text-orange-500 transition-colors\">Blog</Link></li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div>\r\n              <h4 className=\"text-sm font-semibold text-white uppercase tracking-wider mb-4\">Resources</h4>\r\n              <ul className=\"space-y-2 text-sm\">\r\n                <li><Link href=\"/blogs\" className=\"text-gray-400 hover:text-orange-500 transition-colors\">Latest Articles</Link></li>\r\n                <li><Link href=\"/#faq\" className=\"text-gray-400 hover:text-orange-500 transition-colors\">FAQ</Link></li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div>\r\n              <h4 className=\"text-sm font-semibold text-white uppercase tracking-wider mb-4\">Contact</h4>\r\n              <ul className=\"space-y-2 text-sm\">\r\n                <li><a href=\"mailto:hello@echopulse.com\" className=\"text-gray-400 hover:text-orange-500 transition-colors\">Email Us</a></li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"pt-8 border-t border-gray-800 flex flex-col sm:flex-row justify-between items-center gap-4\">\r\n            <p className=\"text-sm text-gray-500\">\r\n               {new Date().getFullYear()} EchoPulse. All rights reserved.\r\n            </p>\r\n            <div className=\"flex items-center gap-6 text-sm\">\r\n              <Link href=\"/terms\" className=\"text-gray-500 hover:text-orange-500 transition-colors\">Terms of Service</Link>\r\n              <Link href=\"/privacy\" className=\"text-gray-500 hover:text-orange-500 transition-colors\">Privacy Policy</Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n","import type {PortableTextListComponent, PortableTextListItemComponent} from '../types'\n\nexport const defaultLists: Record<'number' | 'bullet', PortableTextListComponent> = {\n  number: ({children}) => <ol>{children}</ol>,\n  bullet: ({children}) => <ul>{children}</ul>,\n}\n\nexport const DefaultListItem: PortableTextListItemComponent = ({children}) => <li>{children}</li>\n","import type {TypedObject} from '@portabletext/types'\n\nimport type {PortableTextMarkComponent} from '../types'\n\ninterface DefaultLink extends TypedObject {\n  _type: 'link'\n  href: string\n}\n\nconst link: PortableTextMarkComponent<DefaultLink> = ({children, value}) => (\n  <a href={value?.href}>{children}</a>\n)\n\nconst underlineStyle = {textDecoration: 'underline'}\n\nexport const defaultMarks: Record<string, PortableTextMarkComponent | undefined> = {\n  em: ({children}) => <em>{children}</em>,\n  strong: ({children}) => <strong>{children}</strong>,\n  code: ({children}) => <code>{children}</code>,\n  underline: ({children}) => <span style={underlineStyle}>{children}</span>,\n  'strike-through': ({children}) => <del>{children}</del>,\n  link,\n}\n","import type {PortableTextSpan, TypedObject} from '@portabletext/types'\n\nimport {isPortableTextSpan} from './asserters'\n\nconst knownDecorators = ['strong', 'em', 'code', 'underline', 'strike-through']\n\n/**\n * Figures out the optimal order of marks, in order to minimize the amount of\n * nesting/repeated elements in environments such as HTML. For instance, a naive\n * implementation might render something like:\n *\n * ```html\n * <strong>This block contains </strong>\n * <strong><a href=\"https://some.url/\">a link</a></strong>\n * <strong> and some bolded text</strong>\n * ```\n *\n * ...whereas an optimal order would be:\n *\n * ```html\n * <strong>\n *   This block contains <a href=\"https://some.url/\">a link</a> and some bolded text\n * </strong>\n * ```\n *\n * This is particularly necessary for cases like links, where you don't want multiple\n * individual links for different segments of the link text, even if parts of it are\n * bolded/italicized.\n *\n * This function is meant to be used like: `block.children.map(sortMarksByOccurences)`,\n * and is used internally in {@link buildMarksTree | `buildMarksTree()`}.\n *\n * The marks are sorted in the following order:\n *\n *  1. Marks that are shared amongst the most adjacent siblings\n *  2. Non-default marks (links, custom metadata)\n *  3. Decorators (bold, emphasis, code etc), in a predefined, preferred order\n *\n * @param span - The current span to sort\n * @param index - The index of the current span within the block\n * @param blockChildren - All children of the block being sorted\n * @returns Array of decorators and annotations, sorted by \"most adjacent siblings\"\n */\nexport function sortMarksByOccurences(\n  span: PortableTextSpan | TypedObject,\n  index: number,\n  blockChildren: (PortableTextSpan | TypedObject)[],\n): string[] {\n  if (!isPortableTextSpan(span) || !span.marks) {\n    return []\n  }\n\n  if (!span.marks.length) {\n    return []\n  }\n\n  // Slicing because we'll be sorting with `sort()`, which mutates\n  const marks = span.marks.slice()\n  const occurences: Record<string, number> = {}\n  marks.forEach((mark) => {\n    occurences[mark] = 1\n\n    for (let siblingIndex = index + 1; siblingIndex < blockChildren.length; siblingIndex++) {\n      const sibling = blockChildren[siblingIndex]\n\n      if (\n        sibling &&\n        isPortableTextSpan(sibling) &&\n        Array.isArray(sibling.marks) &&\n        sibling.marks.indexOf(mark) !== -1\n      ) {\n        occurences[mark]++\n      } else {\n        break\n      }\n    }\n  })\n\n  return marks.sort((markA, markB) => sortMarks(occurences, markA, markB))\n}\n\nfunction sortMarks<U extends string, T extends Record<U, number>>(\n  occurences: T,\n  markA: U,\n  markB: U,\n): number {\n  const aOccurences = occurences[markA]\n  const bOccurences = occurences[markB]\n\n  if (aOccurences !== bOccurences) {\n    return bOccurences - aOccurences\n  }\n\n  const aKnownPos = knownDecorators.indexOf(markA)\n  const bKnownPos = knownDecorators.indexOf(markB)\n\n  // Sort known decorators last\n  if (aKnownPos !== bKnownPos) {\n    return aKnownPos - bKnownPos\n  }\n\n  // Sort other marks simply by key\n  return markA.localeCompare(markB)\n}\n","const getTemplate = (type: string, prop: string): string =>\n  `[@portabletext/react] Unknown ${type}, specify a component for it in the \\`components.${prop}\\` prop`\n\nexport const unknownTypeWarning = (typeName: string): string =>\n  getTemplate(`block type \"${typeName}\"`, 'types')\n\nexport const unknownMarkWarning = (markType: string): string =>\n  getTemplate(`mark type \"${markType}\"`, 'marks')\n\nexport const unknownBlockStyleWarning = (blockStyle: string): string =>\n  getTemplate(`block style \"${blockStyle}\"`, 'block')\n\nexport const unknownListStyleWarning = (listStyle: string): string =>\n  getTemplate(`list style \"${listStyle}\"`, 'list')\n\nexport const unknownListItemStyleWarning = (listStyle: string): string =>\n  getTemplate(`list item style \"${listStyle}\"`, 'listItem')\n\nexport function printWarning(message: string): void {\n  // oxlint-disable-next-line no-console\n  console.warn(message)\n}\n","import type {PortableTextReactComponents} from '../types'\n\nimport {unknownTypeWarning} from '../warnings'\n\nconst hidden = {display: 'none'}\n\nexport const DefaultUnknownType: PortableTextReactComponents['unknownType'] = ({\n  value,\n  isInline,\n}) => {\n  const warning = unknownTypeWarning(value._type)\n  return isInline ? <span style={hidden}>{warning}</span> : <div style={hidden}>{warning}</div>\n}\n\nexport const DefaultUnknownMark: PortableTextReactComponents['unknownMark'] = ({\n  markType,\n  children,\n}) => {\n  return <span className={`unknown__pt__mark__${markType}`}>{children}</span>\n}\n\nexport const DefaultUnknownBlockStyle: PortableTextReactComponents['unknownBlockStyle'] = ({\n  children,\n}) => {\n  return <p>{children}</p>\n}\n\nexport const DefaultUnknownList: PortableTextReactComponents['unknownList'] = ({children}) => {\n  return <ul>{children}</ul>\n}\n\nexport const DefaultUnknownListItem: PortableTextReactComponents['unknownListItem'] = ({\n  children,\n}) => {\n  return <li>{children}</li>\n}\n","import type {PortableTextBlockStyle} from '@portabletext/types'\nimport type {JSX} from 'react'\n\nimport type {PortableTextBlockComponent, PortableTextReactComponents} from '../types'\n\nimport {DefaultListItem, defaultLists} from './list'\nimport {defaultMarks} from './marks'\nimport {\n  DefaultUnknownBlockStyle,\n  DefaultUnknownList,\n  DefaultUnknownListItem,\n  DefaultUnknownMark,\n  DefaultUnknownType,\n} from './unknown'\n\nexport const DefaultHardBreak = (): JSX.Element => <br />\n\nexport const defaultBlockStyles: Record<\n  PortableTextBlockStyle,\n  PortableTextBlockComponent | undefined\n> = {\n  normal: ({children}) => <p>{children}</p>,\n  blockquote: ({children}) => <blockquote>{children}</blockquote>,\n  h1: ({children}) => <h1>{children}</h1>,\n  h2: ({children}) => <h2>{children}</h2>,\n  h3: ({children}) => <h3>{children}</h3>,\n  h4: ({children}) => <h4>{children}</h4>,\n  h5: ({children}) => <h5>{children}</h5>,\n  h6: ({children}) => <h6>{children}</h6>,\n}\n\nexport const defaultComponents: PortableTextReactComponents = {\n  types: {},\n\n  block: defaultBlockStyles,\n  marks: defaultMarks,\n  list: defaultLists,\n  listItem: DefaultListItem,\n  hardBreak: DefaultHardBreak,\n\n  unknownType: DefaultUnknownType,\n  unknownMark: DefaultUnknownMark,\n  unknownList: DefaultUnknownList,\n  unknownListItem: DefaultUnknownListItem,\n  unknownBlockStyle: DefaultUnknownBlockStyle,\n}\n","import type {\n  ArbitraryTypedObject,\n  PortableTextBlock,\n  PortableTextMarkDefinition,\n} from '@portabletext/types'\n\nimport type {ToolkitNestedPortableTextSpan, ToolkitTextNode} from './types'\n\nimport {isPortableTextSpan} from './asserters'\nimport {sortMarksByOccurences} from './sortMarksByOccurences'\n\n/**\n * Takes a Portable Text block and returns a nested tree of nodes optimized for rendering\n * in HTML-like environments where you want marks/annotations to be nested inside of eachother.\n * For instance, a naive span-by-span rendering might yield:\n *\n * ```html\n * <strong>This block contains </strong>\n * <strong><a href=\"https://some.url/\">a link</a></strong>\n * <strong> and some bolded and </strong>\n * <em><strong>italicized text</strong></em>\n * ```\n *\n * ...whereas an optimal order would be:\n *\n * ```html\n * <strong>\n *   This block contains <a href=\"https://some.url/\">a link</a>\n *   and some bolded and <em>italicized text</em>\n * </strong>\n * ```\n *\n * Note that since \"native\" Portable Text spans cannot be nested,\n * this function returns an array of \"toolkit specific\" types:\n * {@link ToolkitTextNode | `@text`} and {@link ToolkitNestedPortableTextSpan | `@span` }.\n *\n * The toolkit-specific type can hold both types, as well as any arbitrary inline objects,\n * creating an actual tree.\n *\n * @param block - The Portable Text block to create a tree of nodes from\n * @returns Array of (potentially) nested spans, text nodes and/or arbitrary inline objects\n */\nexport function buildMarksTree<M extends PortableTextMarkDefinition = PortableTextMarkDefinition>(\n  block: PortableTextBlock<M>,\n): (ToolkitNestedPortableTextSpan<M> | ToolkitTextNode | ArbitraryTypedObject)[] {\n  const {children} = block\n  const markDefs = block.markDefs ?? []\n  if (!children || !children.length) {\n    return []\n  }\n\n  const sortedMarks = children.map(sortMarksByOccurences)\n\n  const rootNode: ToolkitNestedPortableTextSpan<M> = {\n    _type: '@span',\n    children: [],\n    markType: '<unknown>',\n  }\n\n  let nodeStack: ToolkitNestedPortableTextSpan<M>[] = [rootNode]\n\n  for (let i = 0; i < children.length; i++) {\n    const span = children[i]\n    if (!span) {\n      continue\n    }\n\n    const marksNeeded = sortedMarks[i] || []\n    let pos = 1\n\n    // Start at position one. Root is always plain and should never be removed\n    if (nodeStack.length > 1) {\n      for (pos; pos < nodeStack.length; pos++) {\n        const mark = nodeStack[pos]?.markKey || ''\n        const index = marksNeeded.indexOf(mark)\n\n        if (index === -1) {\n          break\n        }\n\n        marksNeeded.splice(index, 1)\n      }\n    }\n\n    // Keep from beginning to first miss\n    nodeStack = nodeStack.slice(0, pos)\n\n    // Add needed nodes\n    let currentNode = nodeStack[nodeStack.length - 1]\n    if (!currentNode) {\n      continue\n    }\n\n    for (const markKey of marksNeeded) {\n      const markDef = markDefs?.find((def) => def._key === markKey)\n      const markType = markDef ? markDef._type : markKey\n      const node: ToolkitNestedPortableTextSpan<M> = {\n        _type: '@span',\n        _key: span._key,\n        children: [],\n        markDef,\n        markType,\n        markKey,\n      }\n\n      currentNode.children.push(node)\n      nodeStack.push(node)\n      currentNode = node\n    }\n\n    // Split at newlines to make individual line chunks, but keep newline\n    // characters as individual elements in the array. We use these characters\n    // in the span serializer to trigger hard-break rendering\n    if (isPortableTextSpan(span)) {\n      const lines = span.text.split('\\n')\n      for (let line = lines.length; line-- > 1; ) {\n        lines.splice(line, 0, '\\n')\n      }\n\n      currentNode.children = currentNode.children.concat(\n        lines.map((text) => ({_type: '@text', text})),\n      )\n    } else {\n      // This is some other inline object, not a text span\n      currentNode.children = currentNode.children.concat(span)\n    }\n  }\n\n  return rootNode.children\n}\n","import type {PortableTextComponents, PortableTextReactComponents} from '../types'\n\nexport function mergeComponents(\n  parent: PortableTextReactComponents,\n  overrides: PortableTextComponents,\n): PortableTextReactComponents {\n  const {\n    block: _block,\n    list: _list,\n    listItem: _listItem,\n    marks: _marks,\n    types: _types,\n    ...rest\n  } = overrides\n  // @todo figure out how to not `as ...` these\n  return {\n    ...parent,\n    block: mergeDeeply(parent, overrides, 'block') as PortableTextReactComponents['block'],\n    list: mergeDeeply(parent, overrides, 'list') as PortableTextReactComponents['list'],\n    listItem: mergeDeeply(parent, overrides, 'listItem') as PortableTextReactComponents['listItem'],\n    marks: mergeDeeply(parent, overrides, 'marks') as PortableTextReactComponents['marks'],\n    types: mergeDeeply(parent, overrides, 'types') as PortableTextReactComponents['types'],\n    ...rest,\n  }\n}\n\nfunction mergeDeeply(\n  parent: PortableTextReactComponents,\n  overrides: PortableTextComponents,\n  key: 'block' | 'list' | 'listItem' | 'marks' | 'types',\n): PortableTextReactComponents[typeof key] {\n  const override = overrides[key]\n  const parentVal = parent[key]\n\n  if (typeof override === 'function') {\n    return override\n  }\n\n  if (override && typeof parentVal === 'function') {\n    return override\n  }\n\n  if (override) {\n    return {...parentVal, ...override} as PortableTextReactComponents[typeof key]\n  }\n\n  return parentVal\n}\n","import type {ToolkitNestedPortableTextSpan, ToolkitTextNode} from '@portabletext/toolkit'\nimport type {PortableTextBlock, PortableTextListItemBlock, TypedObject} from '@portabletext/types'\n\nimport {\n  buildMarksTree,\n  isPortableTextBlock,\n  isPortableTextListItemBlock,\n  isPortableTextToolkitList,\n  isPortableTextToolkitSpan,\n  isPortableTextToolkitTextNode,\n  LIST_NEST_MODE_HTML,\n  nestLists,\n  spanToPlainText,\n} from '@portabletext/toolkit'\nimport {type JSX, type ReactNode, useMemo} from 'react'\n\nimport type {\n  MissingComponentHandler,\n  NodeRenderer,\n  PortableTextProps,\n  PortableTextReactComponents,\n  ReactPortableTextList,\n  Serializable,\n  SerializedBlock,\n} from './types'\n\nimport {defaultComponents} from './components/defaults'\nimport {mergeComponents} from './components/merge'\nimport {\n  printWarning,\n  unknownBlockStyleWarning,\n  unknownListItemStyleWarning,\n  unknownListStyleWarning,\n  unknownMarkWarning,\n  unknownTypeWarning,\n} from './warnings'\n\nexport function PortableText<B extends TypedObject = PortableTextBlock>({\n  value: input,\n  components: componentOverrides,\n  listNestingMode,\n  onMissingComponent: missingComponentHandler = printWarning,\n}: PortableTextProps<B>): JSX.Element {\n  const handleMissingComponent = missingComponentHandler || noop\n  const blocks = Array.isArray(input) ? input : [input]\n  const nested = nestLists(blocks, listNestingMode || LIST_NEST_MODE_HTML)\n\n  const components = useMemo(() => {\n    return componentOverrides\n      ? mergeComponents(defaultComponents, componentOverrides)\n      : defaultComponents\n  }, [componentOverrides])\n\n  const renderNode = useMemo(\n    () => getNodeRenderer(components, handleMissingComponent),\n    [components, handleMissingComponent],\n  )\n  const rendered = nested.map((node, index) =>\n    renderNode({node: node, index, isInline: false, renderNode}),\n  )\n\n  return <>{rendered}</>\n}\n\nconst getNodeRenderer = (\n  components: PortableTextReactComponents,\n  handleMissingComponent: MissingComponentHandler,\n): NodeRenderer => {\n  function renderNode<N extends TypedObject>(options: Serializable<N>): ReactNode {\n    const {node, index, isInline} = options\n    const key = node._key || `node-${index}`\n\n    if (isPortableTextToolkitList(node)) {\n      return renderList(node, index, key)\n    }\n\n    if (isPortableTextListItemBlock(node)) {\n      return renderListItem(node, index, key)\n    }\n\n    if (isPortableTextToolkitSpan(node)) {\n      return renderSpan(node, index, key)\n    }\n\n    if (hasCustomComponentForNode(node)) {\n      return renderCustomBlock(node, index, key, isInline)\n    }\n\n    if (isPortableTextBlock(node)) {\n      return renderBlock(node, index, key, isInline)\n    }\n\n    if (isPortableTextToolkitTextNode(node)) {\n      return renderText(node, key)\n    }\n\n    return renderUnknownType(node, index, key, isInline)\n  }\n\n  function hasCustomComponentForNode(node: TypedObject): boolean {\n    return node._type in components.types\n  }\n\n  function renderListItem(node: PortableTextListItemBlock, index: number, key: string) {\n    const tree = serializeBlock({node, index, isInline: false, renderNode})\n    const renderer = components.listItem\n    const handler = typeof renderer === 'function' ? renderer : renderer[node.listItem]\n    const Li = handler || components.unknownListItem\n\n    if (Li === components.unknownListItem) {\n      const style = node.listItem || 'bullet'\n      handleMissingComponent(unknownListItemStyleWarning(style), {\n        type: style,\n        nodeType: 'listItemStyle',\n      })\n    }\n\n    let children = tree.children\n    if (node.style && node.style !== 'normal') {\n      // Wrap any other style in whatever the block serializer says to use\n      const {listItem: _listItem, ...blockNode} = node\n      children = renderNode({\n        node: blockNode,\n        index,\n        isInline: false,\n        renderNode,\n      })\n    }\n\n    return (\n      <Li key={key} value={node} index={index} isInline={false} renderNode={renderNode}>\n        {children}\n      </Li>\n    )\n  }\n\n  function renderList(node: ReactPortableTextList, index: number, key: string) {\n    const children = node.children.map((child, childIndex) =>\n      renderNode({\n        node: child._key ? child : {...child, _key: `li-${index}-${childIndex}`},\n        index: childIndex,\n        isInline: false,\n        renderNode,\n      }),\n    )\n\n    const component = components.list\n    const handler = typeof component === 'function' ? component : component[node.listItem]\n    const List = handler || components.unknownList\n\n    if (List === components.unknownList) {\n      const style = node.listItem || 'bullet'\n      handleMissingComponent(unknownListStyleWarning(style), {\n        nodeType: 'listStyle',\n        type: style,\n      })\n    }\n\n    return (\n      <List key={key} value={node} index={index} isInline={false} renderNode={renderNode}>\n        {children}\n      </List>\n    )\n  }\n\n  function renderSpan(node: ToolkitNestedPortableTextSpan, _index: number, key: string) {\n    const {markDef, markType, markKey} = node\n    const Span = components.marks[markType] || components.unknownMark\n    const children = node.children.map((child, childIndex) =>\n      renderNode({\n        node: child,\n        index: childIndex,\n        isInline: true,\n        renderNode,\n      }),\n    )\n\n    if (Span === components.unknownMark) {\n      handleMissingComponent(unknownMarkWarning(markType), {\n        nodeType: 'mark',\n        type: markType,\n      })\n    }\n\n    return (\n      <Span\n        key={key}\n        text={spanToPlainText(node)}\n        value={markDef}\n        markType={markType}\n        markKey={markKey}\n        renderNode={renderNode}\n      >\n        {children}\n      </Span>\n    )\n  }\n\n  function renderBlock(node: PortableTextBlock, index: number, key: string, isInline: boolean) {\n    const {_key, ...props} = serializeBlock({\n      node,\n      index,\n      isInline,\n      renderNode,\n    })\n    const style = props.node.style || 'normal'\n    const handler =\n      typeof components.block === 'function' ? components.block : components.block[style]\n    const Block = handler || components.unknownBlockStyle\n\n    if (Block === components.unknownBlockStyle) {\n      handleMissingComponent(unknownBlockStyleWarning(style), {\n        nodeType: 'blockStyle',\n        type: style,\n      })\n    }\n\n    return <Block key={key} {...props} value={props.node} renderNode={renderNode} />\n  }\n\n  function renderText(node: ToolkitTextNode, key: string) {\n    if (node.text === '\\n') {\n      const HardBreak = components.hardBreak\n      return HardBreak ? <HardBreak key={key} /> : '\\n'\n    }\n\n    return node.text\n  }\n\n  function renderUnknownType(node: TypedObject, index: number, key: string, isInline: boolean) {\n    const nodeOptions = {\n      value: node,\n      isInline,\n      index,\n      renderNode,\n    }\n\n    handleMissingComponent(unknownTypeWarning(node._type), {\n      nodeType: 'block',\n      type: node._type,\n    })\n\n    const UnknownType = components.unknownType\n    return <UnknownType key={key} {...nodeOptions} />\n  }\n\n  function renderCustomBlock(node: TypedObject, index: number, key: string, isInline: boolean) {\n    const nodeOptions = {\n      value: node,\n      isInline,\n      index,\n      renderNode,\n    }\n\n    const Node = components.types[node._type]\n    return Node ? <Node key={key} {...nodeOptions} /> : null\n  }\n\n  return renderNode\n}\n\nfunction serializeBlock(options: Serializable<PortableTextBlock>): SerializedBlock {\n  const {node, index, isInline, renderNode} = options\n  const tree = buildMarksTree(node)\n  const children = tree.map((child, i) =>\n    renderNode({node: child, isInline: true, index: i, renderNode}),\n  )\n\n  return {\n    _key: node._key || `block-${index}`,\n    children,\n    index,\n    isInline,\n    node,\n  }\n}\n\nfunction noop() {\n  // Intentional noop\n}\n","import type {PortableTextBlock, PortableTextListItemBlock, TypedObject} from '@portabletext/types'\n\nimport type {\n  ToolkitListNestMode,\n  ToolkitPortableTextDirectList,\n  ToolkitPortableTextHtmlList,\n  ToolkitPortableTextList,\n  ToolkitPortableTextListItem,\n} from './types'\n\nimport {\n  isPortableTextListItemBlock,\n  isPortableTextSpan,\n  isPortableTextToolkitList,\n} from './asserters'\n\nexport type ToolkitNestListsOutputNode<T> =\n  | T\n  | ToolkitPortableTextHtmlList\n  | ToolkitPortableTextDirectList\n\n/**\n * Takes an array of blocks and returns an array of nodes optimized for rendering in HTML-like\n * environment, where lists are nested inside of eachother instead of appearing \"flat\" as in\n * native Portable Text data structures.\n *\n * Note that the list node is not a native Portable Text node type, and thus is represented\n * using the {@link ToolkitPortableTextList | `@list`} type name (`{_type: '@list'}`).\n *\n * The nesting can be configured in two modes:\n *\n * - `direct`: deeper list nodes will appear as a direct child of the parent list\n * - `html`, deeper list nodes will appear as a child of the last _list item_ in the parent list\n *\n * When using `direct`, all list nodes will be of type {@link ToolkitPortableTextDirectList},\n * while with `html` they will be of type {@link ToolkitPortableTextHtmlList}\n *\n * These modes are available as {@link LIST_NEST_MODE_HTML} and {@link LIST_NEST_MODE_DIRECT}.\n *\n * @param blocks - Array of Portable Text blocks and other arbitrary types\n * @param mode - Mode to use for nesting, `direct` or `html`\n * @returns Array of potentially nested nodes optimized for rendering\n */\nexport function nestLists<T extends TypedObject = PortableTextBlock | TypedObject>(\n  blocks: T[],\n  mode: 'direct',\n): (T | ToolkitPortableTextDirectList)[]\nexport function nestLists<T extends TypedObject = PortableTextBlock | TypedObject>(\n  blocks: T[],\n  mode: 'html',\n): (T | ToolkitPortableTextHtmlList)[]\nexport function nestLists<T extends TypedObject = PortableTextBlock | TypedObject>(\n  blocks: T[],\n  mode: 'direct' | 'html',\n): (T | ToolkitPortableTextHtmlList | ToolkitPortableTextDirectList)[]\nexport function nestLists<T extends TypedObject = PortableTextBlock | TypedObject>(\n  blocks: T[],\n  mode: ToolkitListNestMode,\n): ToolkitNestListsOutputNode<T>[] {\n  const tree: ToolkitNestListsOutputNode<T>[] = []\n  let currentList: ToolkitPortableTextList | undefined\n\n  for (let i = 0; i < blocks.length; i++) {\n    const block = blocks[i]\n    if (!block) {\n      continue\n    }\n\n    if (!isPortableTextListItemBlock(block)) {\n      tree.push(block)\n      currentList = undefined\n      continue\n    }\n\n    // Start of a new list?\n    if (!currentList) {\n      currentList = listFromBlock(block, i, mode)\n      tree.push(currentList)\n      continue\n    }\n\n    // New list item within same list?\n    if (blockMatchesList(block, currentList)) {\n      currentList.children.push(block)\n      continue\n    }\n\n    // Different list props, are we going deeper?\n    if ((block.level || 1) > currentList.level) {\n      const newList = listFromBlock(block, i, mode)\n\n      if (mode === 'html') {\n        // Because HTML is kinda weird, nested lists needs to be nested within list items.\n        // So while you would think that we could populate the parent list with a new sub-list,\n        // we actually have to target the last list element (child) of the parent.\n        // However, at this point we need to be very careful - simply pushing to the list of children\n        // will mutate the input, and we don't want to blindly clone the entire tree.\n\n        // Clone the last child while adding our new list as the last child of it\n        const lastListItem = currentList.children[\n          currentList.children.length - 1\n        ] as ToolkitPortableTextListItem\n\n        const newLastChild: ToolkitPortableTextListItem = {\n          ...lastListItem,\n          children: [...lastListItem.children, newList],\n        }\n\n        // Swap the last child\n        currentList.children[currentList.children.length - 1] = newLastChild\n      } else {\n        ;(currentList as ToolkitPortableTextDirectList).children.push(\n          newList as ToolkitPortableTextDirectList,\n        )\n      }\n\n      // Set the newly created, deeper list as the current\n      currentList = newList\n      continue\n    }\n\n    // Different list props, are we going back up the tree?\n    if ((block.level || 1) < currentList.level) {\n      // Current list has ended, and we need to hook up with a parent of the same level and type\n      const matchingBranch = tree[tree.length - 1]\n      const match = matchingBranch && findListMatching(matchingBranch, block)\n      if (match) {\n        currentList = match\n        currentList.children.push(block)\n        continue\n      }\n\n      // Similar parent can't be found, assume new list\n      currentList = listFromBlock(block, i, mode)\n      tree.push(currentList)\n      continue\n    }\n\n    // Different list props, different list style?\n    if (block.listItem !== currentList.listItem) {\n      const matchingBranch = tree[tree.length - 1]\n      const match = matchingBranch && findListMatching(matchingBranch, {level: block.level || 1})\n      if (match && match.listItem === block.listItem) {\n        currentList = match\n        currentList.children.push(block)\n        continue\n      } else {\n        currentList = listFromBlock(block, i, mode)\n        tree.push(currentList)\n        continue\n      }\n    }\n\n    // oxlint-disable-next-line no-console\n    console.warn('Unknown state encountered for block', block)\n    tree.push(block)\n  }\n\n  return tree\n}\n\nfunction blockMatchesList(block: PortableTextBlock, list: ToolkitPortableTextList) {\n  return (block.level || 1) === list.level && block.listItem === list.listItem\n}\n\nfunction listFromBlock(\n  block: PortableTextListItemBlock,\n  index: number,\n  mode: ToolkitListNestMode,\n): ToolkitPortableTextList {\n  return {\n    _type: '@list',\n    _key: `${block._key || `${index}`}-parent`,\n    mode,\n    level: block.level || 1,\n    listItem: block.listItem,\n    children: [block],\n  }\n}\n\nfunction findListMatching<T extends TypedObject | PortableTextBlock>(\n  rootNode: T,\n  matching: Partial<PortableTextListItemBlock>,\n): ToolkitPortableTextList | undefined {\n  const level = matching.level || 1\n  const style = matching.listItem || 'normal'\n  const filterOnType = typeof matching.listItem === 'string'\n  if (\n    isPortableTextToolkitList(rootNode) &&\n    (rootNode.level || 1) === level &&\n    filterOnType &&\n    (rootNode.listItem || 'normal') === style\n  ) {\n    return rootNode\n  }\n\n  if (!('children' in rootNode)) {\n    return undefined\n  }\n\n  const node = rootNode.children[rootNode.children.length - 1]\n  return node && !isPortableTextSpan(node) ? findListMatching(node, matching) : undefined\n}\n","import type {ToolkitNestedPortableTextSpan} from './types'\n\nimport {isPortableTextToolkitSpan, isPortableTextToolkitTextNode} from './asserters'\n\n/**\n * Returns the plain-text representation of a\n * {@link ToolkitNestedPortableTextSpan | toolkit-specific Portable Text span}.\n *\n * Useful if you have a subset of nested nodes and want the text from just those,\n * instead of for the entire Portable Text block.\n *\n * @param span - Span node to get text from (Portable Text toolkit specific type)\n * @returns The plain-text version of the span\n */\nexport function spanToPlainText(span: ToolkitNestedPortableTextSpan): string {\n  let text = ''\n  span.children.forEach((current) => {\n    if (isPortableTextToolkitTextNode(current)) {\n      text += current.text\n    } else if (isPortableTextToolkitSpan(current)) {\n      text += spanToPlainText(current)\n    }\n  })\n  return text\n}\n","import type {ArbitraryTypedObject, PortableTextBlock} from '@portabletext/types'\n\nimport {isPortableTextBlock, isPortableTextSpan} from './asserters'\n\nconst leadingSpace = /^\\s/\nconst trailingSpace = /\\s$/\n\n/**\n * Takes a Portable Text block (or an array of them) and returns the text value\n * of all the Portable Text span nodes. Adds whitespace when encountering inline,\n * non-span nodes to ensure text flow is optimal.\n *\n * Note that this only accounts for regular Portable Text blocks - any text inside\n * custom content types are not included in the output.\n *\n * @param block - Single block or an array of blocks to extract text from\n * @returns The plain-text content of the blocks\n */\nexport function toPlainText(\n  block: PortableTextBlock | ArbitraryTypedObject[] | PortableTextBlock[],\n): string {\n  const blocks = Array.isArray(block) ? block : [block]\n  let text = ''\n\n  blocks.forEach((current, index) => {\n    if (!isPortableTextBlock(current)) {\n      return\n    }\n\n    let pad = false\n    current.children.forEach((span) => {\n      if (isPortableTextSpan(span)) {\n        // If the previous element was a non-span, and we have no natural whitespace\n        // between the previous and the next span, insert it to give the spans some\n        // room to breathe. However, don't do so if this is the first span.\n        text += pad && text && !trailingSpace.test(text) && !leadingSpace.test(span.text) ? ' ' : ''\n        text += span.text\n        pad = false\n      } else {\n        pad = true\n      }\n    })\n\n    if (index !== blocks.length - 1) {\n      text += '\\n\\n'\n    }\n  })\n\n  return text\n}\n","import type {\n  ArbitraryTypedObject,\n  PortableTextListItemBlock,\n  PortableTextMarkDefinition,\n  PortableTextSpan,\n} from '@portabletext/types'\n\n/**\n * List nesting mode for HTML, see the {@link nestLists | `nestLists()` function}\n */\nexport const LIST_NEST_MODE_HTML = 'html'\n\n/**\n * List nesting mode for direct, nested lists, see the {@link nestLists | `nestLists()` function}\n */\nexport const LIST_NEST_MODE_DIRECT = 'direct'\n\n/**\n * List nesting mode, see the {@link nestLists | `nestLists()` function}\n */\nexport type ToolkitListNestMode = 'html' | 'direct'\n\n/**\n * Toolkit-specific type representing a nested list\n *\n * See the `nestLists()` function for more info\n */\nexport type ToolkitPortableTextList = ToolkitPortableTextHtmlList | ToolkitPortableTextDirectList\n\n/**\n * Toolkit-specific type representing a nested list in HTML mode, where deeper lists are nested\n * inside of the _list items_, eg `<ul><li>Some text<ul><li>Deeper</li></ul></li></ul>`\n */\nexport interface ToolkitPortableTextHtmlList {\n  /**\n   * Type name, prefixed with `@` to signal that this is a toolkit-specific node.\n   */\n  _type: '@list'\n\n  /**\n   * Unique key for this list (within its parent)\n   */\n  _key: string\n\n  /**\n   * List mode, signaling that list nodes will appear as children of the _list items_\n   */\n  mode: 'html'\n\n  /**\n   * Level/depth of this list node (starts at `1`)\n   */\n  level: number\n\n  /**\n   * Style of this list item (`bullet`, `number` are common values, but can be customized)\n   */\n  listItem: string\n\n  /**\n   * Child nodes of this list - toolkit-specific list items which can themselves hold deeper lists\n   */\n  children: ToolkitPortableTextListItem[]\n}\n\n/**\n * Toolkit-specific type representing a nested list in \"direct\" mode, where deeper lists are nested\n * inside of the lists children, alongside other blocks.\n */\nexport interface ToolkitPortableTextDirectList {\n  /**\n   * Type name, prefixed with `@` to signal that this is a toolkit-specific node.\n   */\n  _type: '@list'\n\n  /**\n   * Unique key for this list (within its parent)\n   */\n  _key: string\n\n  /**\n   * List mode, signaling that list nodes can appear as direct children\n   */\n  mode: 'direct'\n\n  /**\n   * Level/depth of this list node (starts at `1`)\n   */\n  level: number\n\n  /**\n   * Style of this list item (`bullet`, `number` are common values, but can be customized)\n   */\n  listItem: string\n\n  /**\n   * Child nodes of this list - either portable text list items, or another, deeper list\n   */\n  children: (PortableTextListItemBlock | ToolkitPortableTextDirectList)[]\n}\n\n/**\n * Toolkit-specific type representing a list item block, but where the children can be another list\n */\nexport interface ToolkitPortableTextListItem extends PortableTextListItemBlock<\n  PortableTextMarkDefinition,\n  PortableTextSpan | ToolkitPortableTextList\n> {}\n\n/**\n * Toolkit-specific type representing a text node, used when nesting spans.\n *\n * See the {@link buildMarksTree | `buildMarksTree()` function}\n */\nexport interface ToolkitTextNode {\n  /**\n   * Type name, prefixed with `@` to signal that this is a toolkit-specific node.\n   */\n  _type: '@text'\n\n  /**\n   * The actual string value of the text node\n   */\n  text: string\n}\n\n/**\n * Toolkit-specific type representing a portable text span that can hold other spans.\n * In this type, each span only has a single mark, instead of an array of them.\n */\nexport interface ToolkitNestedPortableTextSpan<\n  M extends PortableTextMarkDefinition = PortableTextMarkDefinition,\n> {\n  /**\n   * Type name, prefixed with `@` to signal that this is a toolkit-specific node.\n   */\n  _type: '@span'\n\n  /**\n   * Unique key for this span\n   */\n  _key?: string\n\n  /**\n   * Holds the value (definition) of the mark in the case of annotations.\n   * `undefined` if the mark is a decorator (strong, em or similar).\n   */\n  markDef?: M\n\n  /**\n   * The key of the mark definition (in the case of annotations).\n   * `undefined` if the mark is a decorator (strong, em or similar).\n   */\n  markKey?: string\n\n  /**\n   * Type of the mark. For annotations, this is the `_type` property of the value.\n   * For decorators, it will hold the name of the decorator (strong, em or similar).\n   */\n  markType: string\n\n  /**\n   * Child nodes of this span. Can be toolkit-specific text nodes, nested spans\n   * or any inline object type.\n   */\n  children: (ToolkitTextNode | ToolkitNestedPortableTextSpan | ArbitraryTypedObject)[]\n}\n"],"names":["ReadonlyURLSearchParams","ReadonlyURLSearchParamsError","Error","constructor","URLSearchParams","append","delete","set","sort","RedirectStatusCode","REDIRECT_ERROR_CODE","RedirectType","isRedirectError","error","digest","split","errorCode","type","destination","slice","join","status","at","statusCode","Number","isNaN","getRedirectError","getRedirectStatusCodeFromError","getRedirectTypeFromError","getURLFromRedirectError","permanentRedirect","redirect","actionAsyncStorage","window","require","undefined","url","TemporaryRedirect","getStore","isAction","push","replace","PermanentRedirect","HTTPAccessErrorStatus","HTTP_ERROR_FALLBACK_ERROR_CODE","getAccessFallbackErrorTypeByStatus","getAccessFallbackHTTPStatus","isHTTPAccessFallbackError","NOT_FOUND","FORBIDDEN","UNAUTHORIZED","ALLOWED_CODES","Set","Object","values","prefix","httpStatus","has","notFound","DIGEST","forbidden","process","env","__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS","unauthorized","isHangingPromiseRejectionError","makeDevtoolsIOAwarePromise","makeHangingPromise","err","HANGING_PROMISE_REJECTION","HangingPromiseRejectionError","route","expression","abortListenersBySignal","WeakMap","signal","aborted","Promise","reject","hangingPromise","_","boundRejection","bind","currentListeners","get","listeners","addEventListener","i","length","once","catch","ignoreReject","underlying","requestStore","stage","stagedRendering","delayUntilStage","resolve","setTimeout","isPostpone","REACT_POSTPONE_TYPE","Symbol","for","$$typeof","BailoutToCSRError","isBailoutToCSRError","BAILOUT_TO_CSR","reason","isNextRouterError","DynamicServerError","isDynamicServerError","DYNAMIC_ERROR_CODE","description","StaticGenBailoutError","isStaticGenBailoutError","NEXT_STATIC_GEN_BAILOUT","code","METADATA_BOUNDARY_NAME","OUTLET_BOUNDARY_NAME","ROOT_LAYOUT_BOUNDARY_NAME","VIEWPORT_BOUNDARY_NAME","atLeastOneTask","scheduleImmediate","scheduleOnNextTick","waitAtLeastOneReactRenderTask","cb","then","NEXT_RUNTIME","nextTick","setImmediate","r","createPromiseWithResolvers","promise","res","rej","RenderStage","StagedRenderingController","abortSignal","currentStage","runtimeStagePromise","dynamicStagePromise","advanceStage","getStagePromise","InvariantError","waitForStage","displayName","resolvedValue","ioTriggerPromise","makeDevtoolsIOPromiseFromIOTrigger","ioTrigger","Postpone","PreludeState","abortAndThrowOnSynchronousRequestDataAccess","abortOnSynchronousPlatformIOAccess","accessedDynamicData","annotateDynamicAccess","consumeDynamicAccess","createDynamicTrackingState","createDynamicValidationState","createHangingInputAbortSignal","createRenderInBrowserAbortSignal","delayUntilRuntimeStage","formatDynamicAPIAccesses","getFirstDynamicReason","isDynamicPostpone","isPrerenderInterruptedError","logDisallowedDynamicError","markCurrentScopeAsDynamic","postponeWithTracking","throwIfDisallowedDynamic","throwToInterruptStaticGeneration","trackAllowedDynamicAccess","trackDynamicDataInDynamicRender","trackSynchronousPlatformIOAccessInDev","useDynamicRouteParams","useDynamicSearchParams","hasPostpone","React","unstable_postpone","isDebugDynamicAccesses","dynamicAccesses","syncDynamicErrorWithStack","hasSuspenseAboveBody","hasDynamicMetadata","hasDynamicViewport","hasAllowedDynamic","dynamicErrors","trackingState","store","workUnitStore","forceDynamic","forceStatic","dynamicShouldError","dynamicTracking","revalidate","dynamicUsageDescription","dynamicUsageStack","stack","NODE_ENV","usedDynamic","prerenderStore","abortOnSynchronousDynamicDataAccess","createPrerenderInterruptedError","controller","abort","errorWithStack","Dynamic","prerenderSignal","workUnitAsyncStorage","assertPostpone","createPostponeReason","message","isDynamicPostponeReason","includes","NEXT_PRERENDER_INTERRUPTED","serverDynamic","clientDynamic","filter","access","map","line","AbortController","cacheSignal","inputReady","getRuntimeStagePromise","workStore","workAsyncStorage","fallbackParams","fallbackRouteParams","size","use","renderSignal","throwForMissingRequestStore","hasSuspenseRegex","bodyAndImplicitTags","hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex","RegExp","hasMetadataRegex","hasViewportRegex","hasOutletRegex","componentStack","dynamicValidation","test","createErrorWithComponentOrOwnerStack","ownerStack","captureOwnerStack","name","console","dev","hasReadableErrorStacks","prelude","result","unstable_rethrow","cause","unstable_isUnrecognizedActionError","defaultLists: Record<'number' | 'bullet', PortableTextListComponent>","DefaultListItem: PortableTextListItemComponent","link: PortableTextMarkComponent<DefaultLink>","defaultMarks: Record<string, PortableTextMarkComponent | undefined>","defaultComponents: PortableTextReactComponents","occurences: Record<string, number>","rootNode: ToolkitNestedPortableTextSpan<M>","node: ToolkitNestedPortableTextSpan<M>","tree: ToolkitNestListsOutputNode<T>[]","currentList: ToolkitPortableTextList | undefined","newLastChild: ToolkitPortableTextListItem"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,31,32,33,34,35,36,37,38,39,40,41,42,43]}